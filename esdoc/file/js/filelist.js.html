<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <base data-ice="baseUrl" href="../../">
  <title data-ice="title">js/filelist.js | API Document</title>
  <link type="text/css" rel="stylesheet" href="css/style.css">
  <link type="text/css" rel="stylesheet" href="css/prettify-tomorrow.css">
  <script src="script/prettify/prettify.js"></script>
  
  
  <script src="script/manual.js"></script>
</head>
<body class="layout-container" data-ice="rootContainer">

<header>
  <a href="./">Home</a>
  
  <a href="identifiers.html">Reference</a>
  <a href="source.html">Source</a>
  
  
  <div class="search-box">
  <span>
    <img src="./image/search.png">
    <span class="search-input-edge"></span><input class="search-input"><span class="search-input-edge"></span>
  </span>
    <ul class="search-result"></ul>
  </div>
</header>

<nav class="navigation" data-ice="nav"><div>
  <ul>
    
  <li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/js/abstract.js~AbstractHierarchy.html">AbstractHierarchy</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/js/character.js~Char.html">Char</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/js/character.js~EOL.html">EOL</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/js/character.js~Paragraph.html">Paragraph</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/js/character.js~Row.html">Row</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/js/container.js~Displayer.html">Displayer</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/js/container.js~SearchMode.html">SearchMode</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/js/container.js~SelectRange.html">SelectRange</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/js/container.js~SentenceContainer.html">SentenceContainer</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/js/filelist.js~Directory.html">Directory</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/js/filelist.js~File.html">File</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/js/filelist.js~FileList.html">FileList</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/js/input.js~ConvertContainer.html">ConvertContainer</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/js/input.js~ConvertView.html">ConvertView</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/js/input.js~InputBuffer.html">InputBuffer</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/js/input.js~InputChar.html">InputChar</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/js/other-classes.js~CommandLine.html">CommandLine</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/js/other-classes.js~Cursor.html">Cursor</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/js/other-classes.js~Menu.html">Menu</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/js/undo-redo.js~BoldDoMemory.html">BoldDoMemory</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/js/undo-redo.js~ColorDoMemory.html">ColorDoMemory</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/js/undo-redo.js~DeleteDoMemory.html">DeleteDoMemory</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/js/undo-redo.js~DoManager.html">DoManager</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/js/undo-redo.js~DoMemory.html">DoMemory</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/js/undo-redo.js~FontSizeDoMemory.html">FontSizeDoMemory</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/js/undo-redo.js~ItalicDoMemory.html">ItalicDoMemory</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/js/undo-redo.js~LineBreakDoMemory.html">LineBreakDoMemory</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/js/undo-redo.js~PrintDoMemory.html">PrintDoMemory</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-ElemCreator">ElemCreator</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-KeyTable">KeyTable</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-Util">Util</a></span></span></li>
</ul>
</div>
</nav>

<div class="content" data-ice="content"><h1 data-ice="title">js/filelist.js</h1>
<pre class="source-code line-number raw-source-code"><code class="prettyprint linenums" data-ice="content">&apos;use strict&apos;;
/* global AbstractHierarchy, ElemCreator, Util */

/**
 * &#x30E6;&#x30FC;&#x30B6;&#x30FC;&#x306E;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x60C5;&#x5831;&#x306E;&#x3072;&#x3068;&#x3064;&#x3092;&#x6271;&#x3046;&#x30AF;&#x30E9;&#x30B9;
 */
export class File extends AbstractHierarchy {
    //{{{
    // constructor {{{
    /**
     * @param {number} id &#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x306E;ID
     * @param {string} filename &#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x540D;
     */
    constructor(id, filename) {
        super(ElemCreator.createFileElement(id, filename));
        this._link = this.elem().getElementsByTagName(&apos;a&apos;)[0];
        this._id = id;
        this._name = filename;
        this._nextFile = null;
        this._prevFile = null;
        this.addClickEventListener();
    }//}}}

    // --&#x53C2;&#x7167;&#x53D6;&#x5F97; {{{
    /**
     * &#x81EA;&#x8EAB;&#x306E;&#x5C5E;&#x3059;&#x308B;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x30EA;&#x30B9;&#x30C8;&#x306E;&#x53C2;&#x7167;&#x3092;&#x63A2;&#x3057;&#x3066;&#x53D6;&#x5F97;&#x3057;&#x307E;&#x3059;
     * @return {FileList} &#x81EA;&#x8EAB;&#x306E;&#x5C5E;&#x3059;&#x308B;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x30EA;&#x30B9;&#x30C8;&#x306E;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;&#x3002;&#x898B;&#x3064;&#x304B;&#x3089;&#x306A;&#x3051;&#x308C;&#x3070;null
     */
    fileList() {
        for (let parentDir = this.parent(); parentDir ;parentDir = parentDir.parent() ) {
            if (parentDir.isRoot()) {
                return parentDir;
            }
        }
        return null;
    }

    /**
     * &#x5185;&#x90E8;&#x306E;a&#x30BF;&#x30B0;&#x306E;DOM&#x8981;&#x7D20;&#x3092;&#x53D6;&#x5F97;&#x3057;&#x307E;&#x3059;
     * @return {Element} &#x81EA;&#x8EAB;&#x306E;&#x6301;&#x3064;a&#x30BF;&#x30B0;&#x306E;DOM&#x8981;&#x7D20;
     */
    link() {
        return this._link;
    }

    /**
     * &#x81EA;&#x8EAB;&#x306E;&#x6B21;&#x306B;&#x4F4D;&#x7F6E;&#x3059;&#x308B;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x306E;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;&#x3092;&#x65B0;&#x305F;&#x306B;&#x8A2D;&#x5B9A;&#x3001;&#x307E;&#x305F;&#x306F;&#x5F15;&#x6570;&#x7701;&#x7565;&#x3067;&#x53D6;&#x5F97;&#x3057;&#x307E;&#x3059;&#x3002;
     *     &#x901A;&#x5E38;&#x306E;next()&#x306F;&#x30C7;&#x30A3;&#x30EC;&#x30AF;&#x30C8;&#x30EA;&#x3082;&#x542B;&#x3081;&#x540C;&#x968E;&#x5C64;&#x306E;&#x307F;&#x3092;&#x3064;&#x306A;&#x304E;&#x307E;&#x3059;&#x304C;&#x3001;nextFile()&#x306F;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x306E;&#x307F;&#x3092;&#x3001;&#x305D;&#x308C;&#x3082;&#x30C7;&#x30A3;&#x30EC;&#x30AF;&#x30C8;&#x30EA;&#x6A2A;&#x65AD;&#x7684;&#x306B;&#x3001;&#x3055;&#x3089;&#x306B;&#x968E;&#x5C64;&#x3082;&#x307E;&#x305F;&#x3044;&#x3067;&#x3064;&#x306A;&#x304E;&#x307E;&#x3059;
     * @param {File} [opt_file] &#x65B0;&#x305F;&#x306B;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x306E;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;
     * @return {File} &#x81EA;&#x8EAB;&#x306E;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;(&#x5F15;&#x6570;&#x3092;&#x6E21;&#x3057;&#x305F;&#x5834;&#x5408;)&#x3001;&#x3042;&#x308B;&#x3044;&#x306F;&#x81EA;&#x8EAB;&#x306E;&#x6B21;&#x306E;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x306E;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;(&#x5F15;&#x6570;&#x3092;&#x7701;&#x7565;&#x3057;&#x305F;&#x5834;&#x5408;)
     */
    nextFile(opt_file) {
        if (opt_file === undefined) {
            return this._nextFile;
        }

        this._nextFile = opt_file;
        return this;
    }

    /**
     * &#x81EA;&#x8EAB;&#x306E;&#x524D;&#x306B;&#x4F4D;&#x7F6E;&#x3059;&#x308B;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x306E;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;&#x3092;&#x65B0;&#x305F;&#x306B;&#x8A2D;&#x5B9A;&#x3001;&#x307E;&#x305F;&#x306F;&#x5F15;&#x6570;&#x7701;&#x7565;&#x3067;&#x53D6;&#x5F97;&#x3057;&#x307E;&#x3059;&#x3002;
     *     &#x901A;&#x5E38;&#x306E;&#x3084;prev()&#x306F;&#x30C7;&#x30A3;&#x30EC;&#x30AF;&#x30C8;&#x30EA;&#x3082;&#x542B;&#x3081;&#x540C;&#x968E;&#x5C64;&#x306E;&#x307F;&#x3092;&#x3064;&#x306A;&#x304E;&#x307E;&#x3059;&#x304C;&#x3001;prevFile()&#x306F;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x306E;&#x307F;&#x3092;&#x3001;&#x305D;&#x308C;&#x3082;&#x30C7;&#x30A3;&#x30EC;&#x30AF;&#x30C8;&#x30EA;&#x6A2A;&#x65AD;&#x7684;&#x306B;&#x3001;&#x3055;&#x3089;&#x306B;&#x968E;&#x5C64;&#x3082;&#x307E;&#x305F;&#x3044;&#x3067;&#x3064;&#x306A;&#x304E;&#x307E;&#x3059;
     * @param {File} [opt_file] &#x65B0;&#x305F;&#x306B;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x306E;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;
     * @return {File} &#x81EA;&#x8EAB;&#x306E;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;(&#x5F15;&#x6570;&#x3092;&#x6E21;&#x3057;&#x305F;&#x5834;&#x5408;)&#x3001;&#x3042;&#x308B;&#x3044;&#x306F;&#x81EA;&#x8EAB;&#x306E;&#x524D;&#x306E;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x306E;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;(&#x5F15;&#x6570;&#x3092;&#x7701;&#x7565;&#x3057;&#x305F;&#x5834;&#x5408;)
     */
    prevFile(opt_file) {
        if (opt_file === undefined) {
            return this._prevFile;
        }

        this._prevFile = opt_file;
        return this;
    }//}}}

    // --&#x5224;&#x5B9A; {{{
    /**
     * &#x81EA;&#x8EAB;&#x304C;FileList&#x306E;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;&#x3067;&#x3042;&#x308B;&#x304B;&#x3069;&#x3046;&#x304B;&#x3092;&#x8FD4;&#x3057;&#x307E;&#x3059;
     * @return {boolean} &#x5E38;&#x306B;false
     */
    isRoot() {
        return false;
    }

    /**
     * &#x81EA;&#x8EAB;&#x304C;&#x30C7;&#x30A3;&#x30EC;&#x30AF;&#x30C8;&#x30EA;&#x306E;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;&#x3067;&#x3042;&#x308B;&#x304B;&#x3069;&#x3046;&#x304B;&#x3092;&#x8FD4;&#x3057;&#x307E;&#x3059;
     * @return {boolean} &#x5E38;&#x306B;false
     */
    isDirectory() {
        return false;
    }

    /**
     * &#x81EA;&#x8EAB;&#x304C;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x306E;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;&#x3067;&#x3042;&#x308B;&#x304B;&#x3069;&#x3046;&#x304B;&#x3092;&#x8FD4;&#x3057;&#x307E;&#x3059;
     * @return {boolean} &#x5E38;&#x306B;true
     */
    isFile() {
        return true;
    }

    /**
     * &#x81EA;&#x8EAB;&#x304C;&#x6700;&#x521D;&#x306E;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x3067;&#x3042;&#x308B;&#x304B;&#x3069;&#x3046;&#x304B;&#x3092;&#x8FD4;&#x3057;&#x307E;&#x3059;(&#x30C7;&#x30A3;&#x30EC;&#x30AF;&#x30C8;&#x30EA;&#x5358;&#x4F4D;&#x3067;&#x306F;&#x306A;&#x304F;&#x3001;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x30EA;&#x30B9;&#x30C8;&#x5168;&#x4F53;&#x306E;&#x4E2D;&#x3067;&#x6700;&#x521D;&#x306E;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x3067;&#x3042;&#x308B;&#x304B;&#x3069;&#x3046;&#x304B;)
     * @return {boolean} &#x81EA;&#x8EAB;&#x304C;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x30EA;&#x30B9;&#x30C8;&#x306E;&#x4E2D;&#x3067;&#x6700;&#x521D;&#x306E;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x306A;&#x3089;true&#x3001;&#x305D;&#x3046;&#x3067;&#x306A;&#x3051;&#x308C;&#x3070;false
     */
    isFirstFile() {
        return this.prevFile() === null;
    }

    /**
     * &#x81EA;&#x8EAB;&#x304C;&#x6700;&#x5F8C;&#x306E;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x3067;&#x3042;&#x308B;&#x304B;&#x3069;&#x3046;&#x304B;&#x3092;&#x8FD4;&#x3057;&#x307E;&#x3059;(&#x30C7;&#x30A3;&#x30EC;&#x30AF;&#x30C8;&#x30EA;&#x5358;&#x4F4D;&#x3067;&#x306F;&#x306A;&#x304F;&#x3001;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x30EA;&#x30B9;&#x30C8;&#x5168;&#x4F53;&#x306E;&#x4E2D;&#x3067;&#x6700;&#x5F8C;&#x306E;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x3067;&#x3042;&#x308B;&#x304B;&#x3069;&#x3046;&#x304B;)
     * @return {boolean} &#x81EA;&#x8EAB;&#x304C;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x30EA;&#x30B9;&#x30C8;&#x306E;&#x4E2D;&#x3067;&#x6700;&#x5F8C;&#x306E;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x306A;&#x3089;true&#x3001;&#x305D;&#x3046;&#x3067;&#x306A;&#x3051;&#x308C;&#x3070;false
     */
    isLastFile() {
        return this.nextFile() === null;
    }

    /**
     * &#x81EA;&#x8EAB;&#x304C;&#x8868;&#x3059;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x304C;&#x6587;&#x7AE0;&#x30B3;&#x30F3;&#x30C6;&#x30CA;&#x306B;&#x8AAD;&#x307F;&#x8FBC;&#x307E;&#x308C;&#x3066;&#x3044;&#x308B;&#x304B;&#x3069;&#x3046;&#x304B;&#x3092;&#x8FD4;&#x3057;&#x307E;&#x3059;
     * @return {boolean} &#x81EA;&#x8EAB;&#x304C;&#x73FE;&#x5728;&#x8AAD;&#x307F;&#x8FBC;&#x307E;&#x308C;&#x3066;&#x3044;&#x308C;&#x3070;true&#x3001;&#x305D;&#x3046;&#x3067;&#x306A;&#x3051;&#x308C;&#x3070;false
     */
    isOpen() {
        return this.fileList().sentenceContainer().fileId() === this.id();
    }

    /**
     * &#x81EA;&#x8EAB;&#x304C;&#x8868;&#x3059;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x304C;&#x6587;&#x7AE0;&#x30B3;&#x30F3;&#x30C6;&#x30CA;&#x306B;&#x8AAD;&#x307F;&#x8FBC;&#x307E;&#x308C;&#x3066;&#x3044;&#x306A;&#x3044;&#x304B;&#x3069;&#x3046;&#x304B;&#x3092;&#x8FD4;&#x3057;&#x307E;&#x3059;
     * @return {boolean} &#x81EA;&#x8EAB;&#x304C;&#x73FE;&#x5728;&#x8AAD;&#x307F;&#x8FBC;&#x307E;&#x308C;&#x3066;&#x3044;&#x306A;&#x3051;&#x308C;&#x3070;true&#x3001;&#x305D;&#x3046;&#x3067;&#x306A;&#x3051;&#x308C;&#x3070;false
     */
    isClose() {
        return this.fileList().sentenceContainer().fileId() !== this.id();
    }//}}}

    // --Status {{{
    /**
     * &#x81EA;&#x8EAB;&#x306E;&#x30D5;&#x30A1;&#x30A4;&#x30EB;ID&#x3092;&#x8FD4;&#x3057;&#x307E;&#x3059;
     * @return {number} &#x81EA;&#x8EAB;&#x306E;&#x30D5;&#x30A1;&#x30A4;&#x30EB;ID
     */
    id() {
        return this._id;
    }

    /**
     * &#x81EA;&#x8EAB;&#x306E;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x540D;&#x3092;&#x8FD4;&#x3057;&#x307E;&#x3059;
     * @return {string} &#x81EA;&#x8EAB;&#x306E;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x540D;
     */
    name() {
        return this._name;
    }//}}}

    // --DOM&#x64CD;&#x4F5C; {{{
    /**
     * &#x6587;&#x7AE0;&#x30B3;&#x30F3;&#x30C6;&#x30CA;&#x306B;&#x81EA;&#x8EAB;&#x306E;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x3092;&#x975E;&#x540C;&#x671F;&#x3067;&#x8AAD;&#x307F;&#x8FBC;&#x307F;&#x307E;&#x3059;
     * @return {File} &#x81EA;&#x8EAB;&#x306E;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;
     */
    open() {
        const sentenceContainer = this.fileList().sentenceContainer();
        if (sentenceContainer.isChanged()) {
            sentenceContainer.announce(&apos;&#x6700;&#x5F8C;&#x306E;&#x5909;&#x66F4;&#x304C;&#x4FDD;&#x5B58;&#x3055;&#x308C;&#x3066;&#x3044;&#x307E;&#x305B;&#x3093;&apos;);
            return this;
        }

        const data = {};
        data.file_id = this.id();
        sentenceContainer.announce(&apos;&#x8AAD;&#x8FBC;&#x4E2D;&apos;);
        Util.get(&apos;/tategaki/FileData&apos;,
            json =&gt; sentenceContainer.init(json).isChanged(false).announce(&apos;&#x8AAD;&#x307F;&#x8FBC;&#x307F;&#x5B8C;&#x4E86;&apos;),
            data);
        return this;
    }

    /**
     * &#x81EA;&#x8EAB;&#x306E;&#x8981;&#x7D20;&#x53CA;&#x3073;&#x81EA;&#x8EAB;&#x3078;&#x306E;&#x53C2;&#x7167;&#x3092;&#x524A;&#x9664;&#x3057;&#x3001;&#x81EA;&#x8EAB;&#x304C;&#x8868;&#x3059;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x3092;&#x524A;&#x9664;&#x3057;&#x307E;&#x3059;(&#x975E;&#x540C;&#x671F;&#x901A;&#x4FE1;)
     * @return {File} &#x81EA;&#x8EAB;&#x306E;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;
     * @see ../WEB-INF/classes/doc/DeleteServlet.html
     */
    delete() {
        Util.post(&apos;/tategaki/Delete&apos;,{
            file_id: this.id()
        },function (json) {
            if (json.result === &apos;false&apos; || json.result === false) {
                console.log(&apos;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x524A;&#x9664;&#x30A8;&#x30E9;&#x30FC;&#x3067;&#x3059;(&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x756A;&#x53F7;&#xFF1A;&apos;+ this.id() + &apos;)&apos;);
                return;
            }

            const fileList = this.fileList();
            const sentenceContainer = fileList.sentenceContainer();
            // &#x73FE;&#x5728;&#x958B;&#x3044;&#x3066;&#x3044;&#x308B;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x3092;&#x524A;&#x9664;&#x3057;&#x305F;&#x306A;&#x3089;&#x3001;&#x524D;&#x5F8C;&#x3069;&#x3061;&#x3089;&#x304B;&#x306E;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x3092;&#x958B;&#x304F;
            // &#x540C;&#x3058;&#x30C7;&#x30A3;&#x30EC;&#x30AF;&#x30C8;&#x30EA;&#x306B;&#x4ED6;&#x306E;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x304C;&#x306A;&#x3051;&#x308C;&#x3070;&#x65B0;&#x3057;&#x3044;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x3092;&#x958B;&#x304F;
            // &#x6700;&#x5F8C;&#x306B;&#x3001;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x30EA;&#x30B9;&#x30C8;&#x3092;&#x4F5C;&#x308A;&#x76F4;&#x3059;
            if (fileList.currentFile() === this) {
                const nextFile = this.nextFile() || this.prevFile();
                if (nextFile) {
                    nextFile.open();
                    fileList.read();
                    return;
                }
                if (!nextFile) {
                    sentenceContainer.newFile();
                    fileList.read();
                    return;
                }
            }
            fileList.read();
        }.bind(this));
        return this;
    }

    /**
     * &#x81EA;&#x8EAB;&#x3092;newParentDir&#x306E;&#x4E2D;&#x306B;&#x79FB;&#x52D5;&#x3057;&#x3001;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x30EA;&#x30B9;&#x30C8;&#x3092;&#x4F5C;&#x308A;&#x76F4;&#x3057;&#x307E;&#x3059;(&#x975E;&#x540C;&#x671F;&#x901A;&#x4FE1;)
     * @param {Directory} newParentDir &#x81EA;&#x8EAB;&#x306E;&#x89AA;&#x3068;&#x306A;&#x308B;&#x30C7;&#x30A3;&#x30EC;&#x30AF;&#x30C8;&#x30EA;&#x306E;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;
     * @return {File} &#x81EA;&#x8EAB;&#x306E;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;
     * @see ../WEB-INF/classes/doc/FileListServlet.html
     */
    move(newParentDir) {
        const fileList = this.fileList();
        Util.post(&apos;/tategaki/FileList&apos;,{
            file_id: this.id(),
            new_parent_id: newParentDir.id()
        }, data =&gt; fileList.read());
        return this;
    }//}}}

    // --&#x30A4;&#x30D9;&#x30F3;&#x30C8; {{{
    // li&#x30BF;&#x30B0;&#x306E;&#x8981;&#x7D20;&#x3067;&#x306F;&#x306A;&#x304F;a&#x30BF;&#x30B0;&#x8981;&#x7D20;&#x306B;&#x30AF;&#x30EA;&#x30C3;&#x30AF;&#x30A4;&#x30D9;&#x30F3;&#x30C8;&#x3092;&#x8A2D;&#x5B9A;&#x3059;&#x308B;&#x305F;&#x3081;&#x30AA;&#x30FC;&#x30D0;&#x30FC;&#x30E9;&#x30A4;&#x30C9;
    /**
     * &#x81EA;&#x8EAB;&#x306E;&#x30EA;&#x30F3;&#x30AF;&#x306B;&#x30AF;&#x30EA;&#x30C3;&#x30AF;&#x30A4;&#x30D9;&#x30F3;&#x30C8;&#x3092;&#x4ED8;&#x52A0;&#x3057;&#x307E;&#x3059;
     * @return {File} &#x81EA;&#x8EAB;&#x306E;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;
     */
    addClickEventListener() {
        this._clickArg = this._onClick.bind(this);
        this.link().addEventListener(&apos;click&apos;,this._clickArg);
        return this;
    }

    /**
     * &#x81EA;&#x8EAB;&#x306E;&#x30EA;&#x30F3;&#x30AF;&#x3078;&#x306E;&#x30AF;&#x30EA;&#x30C3;&#x30AF;&#x30A4;&#x30D9;&#x30F3;&#x30C8;&#x3092;&#x9664;&#x53BB;&#x3057;&#x307E;&#x3059;
     * @return {File} &#x81EA;&#x8EAB;&#x306E;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;
     */
    removeClickEventListener() {
        if (!this._clickArg) {
            return this;
        }
        this.link().removeEventListener(&apos;click&apos;,this._clickArg);
        this._clickArg = null;
        return this;
    }

    /**
     * &#x81EA;&#x8EAB;&#x306E;&#x30EA;&#x30F3;&#x30AF;&#x3078;&#x306E;&#x30AF;&#x30EA;&#x30C3;&#x30AF;&#x30A4;&#x30D9;&#x30F3;&#x30C8;&#x306E;&#x5185;&#x5BB9;&#x3067;&#x3059;(&#x30AF;&#x30EA;&#x30C3;&#x30AF;&#x3059;&#x308B;&#x3068;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x304C;&#x8AAD;&#x307F;&#x8FBC;&#x307E;&#x308C;&#x308B;)
     * @param {Event} e &#x30A4;&#x30D9;&#x30F3;&#x30C8;&#x30AA;&#x30D6;&#x30B8;&#x30A7;&#x30AF;&#x30C8;
     */
    runClick(e) {
        this.open();
        $(&apos;#file_list_modal&apos;).modal(&apos;hide&apos;);
    }//}}}
}//}}}


/**
 * &#x30E6;&#x30FC;&#x30B6;&#x30FC;&#x306E;&#x30C7;&#x30A3;&#x30EC;&#x30AF;&#x30C8;&#x30EA;&#x60C5;&#x5831;&#x306E;&#x3072;&#x3068;&#x3064;&#x3092;&#x6271;&#x3046;&#x30AF;&#x30E9;&#x30B9;
 */
export class Directory extends AbstractHierarchy {
    //{{{
    // constructor {{{
    /**
     * @param {number} dirId &#x30C7;&#x30A3;&#x30EC;&#x30AF;&#x30C8;&#x30EA;ID
     * @param {object} data &#x30C7;&#x30A3;&#x30EC;&#x30AF;&#x30C8;&#x30EA;&#x306E;&#x60C5;&#x5831;&#x3092;&#x6301;&#x3064;&#x30AA;&#x30D6;&#x30B8;&#x30A7;&#x30AF;&#x30C8;
     * &lt;pre&gt;
     * &lt;code&gt;
     *  // &#x30C7;&#x30FC;&#x30BF;&#x306E;&#x5185;&#x5BB9;&#x4F8B;
     * {
     *		&quot;directoryname&quot;: &quot;dirname&quot;,
     *		&quot;4&quot;:&quot;indirfile&quot;,
     *		&quot;9&quot;:&quot;file&quot;,
     *		&quot;12&quot;: {
     *			&quot;directoryname&quot;: &quot;seconddir&quot;,
     *			&quot;17&quot;: &quot;file&quot;
     *		}
     *	}
     *	&lt;/code&gt;
     *	&lt;/pre&gt;
     */
    constructor(dirId,data) {
        /*
         * data&#x306E;&#x4E2D;&#x8EAB;&#x4F8B;(root&#x304B;&#x3089;&#x898B;&#x3066;)
         * data = {
         * 	&quot;directoryname&quot;: &quot;root&quot;,
         * 	&quot;1&quot;:&quot;sample&quot;,
         * 	&quot;8&quot;:&quot;file&quot;,
         * 	&quot;6&quot;: {
         * 		&quot;directoryname&quot;: &quot;dirname&quot;,
         * 		&quot;4&quot;:&quot;indirfile&quot;,
         * 		&quot;9&quot;:&quot;file&quot;,
         * 		&quot;12&quot;: {
         * 			&quot;directoryname&quot;: &quot;seconddir&quot;,
         * 			&quot;17&quot;: &quot;file&quot;
         * 		}
         * 	}
         * }
         * fileId:filename
         */
        super(ElemCreator.createDirectoryElement(dirId,data));
        this._link = this.elem().getElementsByTagName(&apos;a&apos;)[0];
        this._innerList = this.elem().getElementsByTagName(&apos;ul&apos;)[0];

        this._id = parseInt(dirId);
        this._name = data.directoryname;
        for (let id in data) {
            if (id === &apos;directoryname&apos;) {
                continue;
            }
            if (typeof data[id] === &apos;string&apos;) {
                this.append(new File(id,data[id]));
            }
            if (typeof data[id] === &apos;object&apos;) {
                this.append(new Directory(id,data[id]));
            }
        }
    }//}}}

    // --&#x53C2;&#x7167;&#x53D6;&#x5F97; {{{
    /**
     * &#x5185;&#x90E8;&#x306E;a&#x30BF;&#x30B0;&#x306E;DOM&#x8981;&#x7D20;&#x3092;&#x53D6;&#x5F97;&#x3057;&#x307E;&#x3059;
     * @return {Element} &#x81EA;&#x8EAB;&#x306E;&#x6301;&#x3064;a&#x30BF;&#x30B0;&#x306E;DOM&#x8981;&#x7D20;
     */
    link() {
        return this._link;
    }

    /**
     * &#x81EA;&#x8EAB;&#x306E;&#x5185;&#x90E8;&#x306E;&#x8981;&#x7D20;&#x306E;&#x69CB;&#x7BC9;&#x5148;&#x3067;&#x3042;&#x308B;DOM&#x8981;&#x7D20;(&#x30B3;&#x30E9;&#x30D7;&#x30B9;&#x306E;&#x5185;&#x5BB9;&#x306E;&#x683C;&#x7D0D;&#x5148;)&#x3092;&#x8FD4;&#x3057;&#x307E;&#x3059;
     * @return {Element} &#x81EA;&#x8EAB;&#x306E;&#x5185;&#x90E8;&#x30EA;&#x30B9;&#x30C8;&#x306E;DOM&#x8981;&#x7D20;
     */
    innerList() {
        return this._innerList;
    }

    /**
     * &#x81EA;&#x8EAB;&#x306E;&#x5C5E;&#x3059;&#x308B;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x30EA;&#x30B9;&#x30C8;&#x306E;&#x53C2;&#x7167;&#x3092;&#x63A2;&#x3057;&#x3066;&#x53D6;&#x5F97;&#x3057;&#x307E;&#x3059;
     * @return {FileList} &#x81EA;&#x8EAB;&#x306E;&#x5C5E;&#x3059;&#x308B;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x30EA;&#x30B9;&#x30C8;&#x306E;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;&#x3002;&#x898B;&#x3064;&#x304B;&#x3089;&#x306A;&#x3051;&#x308C;&#x3070;null
     */
    fileList() {
        for (let parentDir = this.parent(); parentDir; parentDir = parentDir.parent()) {
            if (parentDir.isRoot()) {
                return parentDir;
            }
        }
        return null;
    }

    /**
     * &#x81EA;&#x5206;&#x306E;&#x6B21;&#x306E;&#x30D5;&#x30A1;&#x30A4;&#x30EB;(&#x30C7;&#x30A3;&#x30EC;&#x30AF;&#x30C8;&#x30EA;&#x3001;&#x5185;&#x90E8;&#x306E;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x3092;&#x9664;&#x304F;)&#x3092;&#x63A2;&#x3059;
     * @return {File} &#x81EA;&#x5206;&#x306E;&#x6B21;&#x306E;&#x30D5;&#x30A1;&#x30A4;&#x30EB;(&#x30C7;&#x30A3;&#x30EC;&#x30AF;&#x30C8;&#x30EA;&#x3001;&#x5185;&#x90E8;&#x306E;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x3092;&#x9664;&#x304F;)&#x3002;&#x81EA;&#x5206;&#x306E;&#x5F8C;&#x65B9;&#x306B;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x304C;&#x306A;&#x3051;&#x308C;&#x3070;null
     */
    findNextFile() {
        for (let fileList = this.fileList(), nextFile = fileList.findNextFile(this);
            nextFile; nextFile = fileList.findNextFile(nextFile)) {
                if (!this.contains(nextFile)) {
                    return nextFile;
                }
            }
        return null;
    }//}}}

    // --&#x5224;&#x5B9A; {{{
    /**
     * &#x81EA;&#x8EAB;&#x304C;FileList&#x306E;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;&#x3067;&#x3042;&#x308B;&#x304B;&#x3069;&#x3046;&#x304B;&#x3092;&#x8FD4;&#x3057;&#x307E;&#x3059;
     * @return {boolean} &#x5E38;&#x306B;false
     */
    isRoot() {
        return false;
    }

    /**
     * &#x81EA;&#x8EAB;&#x304C;Directory&#x306E;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;&#x3067;&#x3042;&#x308B;&#x304B;&#x3069;&#x3046;&#x304B;&#x3092;&#x8FD4;&#x3057;&#x307E;&#x3059;
     * @return {boolean} &#x5E38;&#x306B;true
     */
    isDirectory() {
        return true;
    }

    /**
     * &#x81EA;&#x8EAB;&#x304C;File&#x306E;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;&#x3067;&#x3042;&#x308B;&#x304B;&#x3069;&#x3046;&#x304B;&#x3092;&#x8FD4;&#x3057;&#x307E;&#x3059;
     * @return {boolean} &#x5E38;&#x306B;false
     */
    isFile() {
        return false;
    }

    /**
     * fileOrDirectory&#x304C;&#x3053;&#x306E;&#x30C7;&#x30A3;&#x30EC;&#x30AF;&#x30C8;&#x30EA;&#x5185;&#x306B;&#x3042;&#x308B;&#x304B;&#x3069;&#x3046;&#x304B;&#x3092;&#x5224;&#x5B9A;&#x3057;&#x307E;&#x3059;
     * @param {File Directory} fileOrDirectory &#x5224;&#x5B9A;&#x3059;&#x308B;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x3001;&#x307E;&#x305F;&#x306F;&#x30C7;&#x30A3;&#x30EC;&#x30AF;&#x30C8;&#x30EA;
     * @return {boolean} &#x5F15;&#x6570;&#x304C;&#x3053;&#x306E;&#x30C7;&#x30A3;&#x30EC;&#x30AF;&#x30C8;&#x30EA;&#x306E;&#x4E2D;&#x306B;&#x3042;&#x308C;&#x3070;true&#x3001;&#x305D;&#x3046;&#x3067;&#x306A;&#x3051;&#x308C;&#x3070;false
     */
    contains(fileOrDirectory) {
        for (let fileList = this.fileList(), parents = fileOrDirectory.parent();
            parents !== fileList; parents = parents.parent()) {
                if (parents === this) {
                    return true;
                }
            }
        return false;
    }//}}}

    // --Status {{{
    /**
     * &#x81EA;&#x8EAB;&#x306E;ID&#x3092;&#x8FD4;&#x3057;&#x307E;&#x3059;
     * @return {number} &#x81EA;&#x8EAB;&#x306E;ID
     */
    id() {
        return this._id;
    }

    /**
     * &#x81EA;&#x8EAB;&#x306E;&#x30C7;&#x30A3;&#x30EC;&#x30AF;&#x30C8;&#x30EA;&#x540D;&#x3092;&#x8FD4;&#x3057;&#x307E;&#x3059;
     * @return {string} &#x81EA;&#x8EAB;&#x306E;&#x30C7;&#x30A3;&#x30EC;&#x30AF;&#x30C8;&#x30EA;&#x540D;
     */
    name() {
        return this._name;
    }//}}}

    // --DOM&#x64CD;&#x4F5C; {{{
    /**
     * &#x81EA;&#x8EAB;&#x306E;&#x5185;&#x90E8;&#x306E;&#x6700;&#x5F8C;&#x306B;file&#x3092;&#x8FFD;&#x52A0;&#x3057;&#x307E;&#x3059;
     * @param {File Directory} file &#x8FFD;&#x52A0;&#x3059;&#x308B;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x3001;&#x3042;&#x308B;&#x3044;&#x306F;&#x30C7;&#x30A3;&#x30EC;&#x30AF;&#x30C8;&#x30EA;&#x306E;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;
     * @return {Directory} &#x81EA;&#x8EAB;&#x306E;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;
     */
    append(file) {
        // DOM
        this.appendElem(file);

        // &#x30DD;&#x30A4;&#x30F3;&#x30BF;&#x8ABF;&#x6574;
        // &#x6700;&#x521D;&#x306E;&#x8981;&#x7D20;&#x3068;&#x6700;&#x5F8C;&#x306E;&#x8981;&#x7D20;&#x306F;&#x3064;&#x306A;&#x3052;&#x308B;

        if (this.hasChild()) {
            this.lastChild().next(file);
            file.prev(this.lastChild());
        }
        file.parent(this);
        this.pushChild(file);
        return this;
    }

    /**
     * &#x81EA;&#x8EAB;&#x306E;&#x5185;&#x90E8;&#x30EA;&#x30B9;&#x30C8;&#x306E;&#x5185;&#x90E8;&#x306E;&#x6700;&#x5F8C;&#x306B;file&#x306E;DOM&#x8981;&#x7D20;&#x3092;&#x8FFD;&#x52A0;&#x3057;&#x307E;&#x3059;
     * @param {File Directory} file &#x8FFD;&#x52A0;&#x3059;&#x308B;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x3001;&#x3042;&#x308B;&#x3044;&#x306F;&#x30C7;&#x30A3;&#x30EC;&#x30AF;&#x30C8;&#x30EA;&#x306E;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;
     * @return {Directory} &#x81EA;&#x8EAB;&#x306E;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;
     */
    appendElem(file) {
        this.innerList().appendChild(file.elem());
        return this;
    }

    /**
     * &#x81EA;&#x8EAB;&#x3092;&#x524A;&#x9664;&#x3057;&#x307E;&#x3059;(&#x975E;&#x540C;&#x671F;&#x901A;&#x4FE1;)
     * @param {boolean} [opt_bl=false] &#x81EA;&#x8EAB;&#x306E;&#x5185;&#x90E8;&#x306B;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x304C;&#x3042;&#x308B;&#x3068;&#x304D;&#x3001;&#x5F37;&#x5236;&#x7684;&#x306B;&#x4E2D;&#x306E;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x3054;&#x3068;&#x524A;&#x9664;&#x3059;&#x308B;&#x306A;&#x3089;true&#x3001;&#x305D;&#x3046;&#x3067;&#x306A;&#x3051;&#x308C;&#x3070;false&#x3092;&#x6307;&#x5B9A;&#x3059;&#x308B;
     * @return {Directory} &#x81EA;&#x8EAB;&#x306E;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;
     * @see ../WEB-INF/classes/doc/DeleteServlet.html
     */
    delete(opt_bl) {
        const bl = opt_bl || false; // &#x5F15;&#x6570;&#x7701;&#x7565;&#x306E;&#x5834;&#x5408;&#x3067;&#x3082;&#x3001;&#x660E;&#x78BA;&#x306B;false&#x3092;&#x5165;&#x308C;&#x308B;
        Util.post(&apos;/tategaki/Delete&apos;,{
            directory_id: this.id(),
            option: bl
        }, function (data) {
            const fileList = this.fileList();
            fileList.read();
            if (data.result === &apos;false&apos;) {
                alert(&apos;&#x524A;&#x9664;&#x3067;&#x304D;&#x307E;&#x305B;&#x3093;&#x3067;&#x3057;&#x305F;&#x3002;&apos;);
                return;
            }

            // &#x73FE;&#x5728;&#x958B;&#x3044;&#x3066;&#x3044;&#x308B;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x304C;&#x81EA;&#x5206;&#x306E;&#x4E2D;&#x306B;&#x3042;&#x308B;&#x5834;&#x5408;&#x3001;&#x81EA;&#x5206;&#x306E;&#x6B21;&#x306E;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x3092;&#x958B;&#x304F;
            // &#x81EA;&#x5206;&#x4EE5;&#x964D;&#x306B;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x304C;&#x306A;&#x3051;&#x308C;&#x3070;&#x6700;&#x521D;&#x306E;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x3001;&#x305D;&#x308C;&#x3082;&#x306A;&#x3051;&#x308C;&#x3070;&#x65B0;&#x3057;&#x3044;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x3092;&#x958B;&#x304F;
            if (this.contains(fileList.currentFile())) {
                const nextFile = this.findNextFile() || fileList.firstFile();
                if (nextFile) {
                    nextFile.open();
                } else {
                    fileList.sentenceContainer().newFile();
                }
            }

        }.bind(this));
        return this;
    }//}}}
}//}}}


/**
 * &#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x3084;&#x30C7;&#x30A3;&#x30EC;&#x30AF;&#x30C8;&#x30EA;&#x3092;&#x4E00;&#x89A7;&#x306B;&#x3059;&#x308B;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x30EA;&#x30B9;&#x30C8;&#x3092;&#x8868;&#x3059;&#x30AF;&#x30E9;&#x30B9;
 */
export class FileList extends AbstractHierarchy {  // jshint ignore:line
    //{{{
    // constructor {{{
    /**
     * @param {SentenceContainer} sentenceContainer &#x81EA;&#x8EAB;&#x306E;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x3092;&#x5C55;&#x958B;&#x3059;&#x308B;&#x6587;&#x7AE0;&#x30B3;&#x30F3;&#x30C6;&#x30CA;&#x306E;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;
     * @param {object} [opt_data] &#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x3084;&#x30C7;&#x30A3;&#x30EC;&#x30AF;&#x30C8;&#x30EA;&#x306E;&#x60C5;&#x5831;&#x3092;&#x6271;&#x3046;&#x30AA;&#x30D6;&#x30B8;&#x30A7;&#x30AF;&#x30C8;&#x3002;&#x7701;&#x7565;&#x3057;&#x305F;&#x5834;&#x5408;&#x306F;&#x3001;init()&#x306B;data&#x3092;&#x6E21;&#x3057;&#x3066;&#x53C2;&#x7167;&#x3084;DOM&#x306E;&#x69CB;&#x7BC9;&#x3092;&#x884C;&#x3046;
     * &lt;pre&gt;
     * &lt;code&gt;
     *  // data&#x306E;&#x4E2D;&#x8EAB;&#x4F8B;
     * {
     * 	&quot;directoryname&quot;: &quot;root&quot;,
     * 	&quot;1&quot;:&quot;sample&quot;,
     * 	&quot;8&quot;:&quot;file&quot;,
     * 	&quot;6&quot;: {
     * 		&quot;directoryname&quot;: &quot;dirname&quot;,
     * 		&quot;4&quot;:&quot;indirfile&quot;,
     * 		&quot;9&quot;:&quot;file&quot;,
     * 		&quot;12&quot;: {
     * 			&quot;directoryname&quot;: &quot;seconddir&quot;,
     * 			&quot;17&quot;: &quot;file&quot;
     * 		}
     * 	}
     * }
     * &lt;/code&gt;
     * &lt;/pre&gt;
     */
    constructor(sentenceContainer, opt_data) {
        super(document.getElementById(&apos;file_list&apos;));
        this._sentenceContainer = sentenceContainer;
        this._$modal = $(&apos;#file_list_modal&apos;);
        this._filterInputElem = document.getElementById(&apos;file_list_filter&apos;);
        this.addEventListenerOnInput();
        if (opt_data) {
            this.init(opt_data);
        } else {
            this.read();
        }
    }

    /**
     * &#x53C2;&#x7167;&#x3084;DOM&#x306E;&#x69CB;&#x7BC9;&#x3092;&#x884C;&#x3044;&#x307E;&#x3059;
     * @param {object} data &#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x3084;&#x30C7;&#x30A3;&#x30EC;&#x30AF;&#x30C8;&#x30EA;&#x306E;&#x60C5;&#x5831;&#x3092;&#x6271;&#x3046;&#x30AA;&#x30D6;&#x30B8;&#x30A7;&#x30AF;&#x30C8;&#x3002;&#x8A73;&#x7D30;&#x306F;constructor&#x306E;&#x8AAC;&#x660E;&#x3078;
     * @return {FileList} &#x81EA;&#x8EAB;&#x306E;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;
     */
    init(data) {
        this.empty();
        for (let id in data) {
            if (id === &apos;directoryname&apos;) {
                continue;
            }

            if (typeof data[id] === &apos;string&apos;) {
                this.append(new File(id,data[id]));
            }
            if (typeof data[id] === &apos;object&apos;) {
                this.append(new Directory(id,data[id]));
            }
        }
        this.chainFile();
        return this;
    }//}}}

    // --&#x53C2;&#x7167;&#x53D6;&#x5F97; {{{
    /**
     * &#x6587;&#x7AE0;&#x30B3;&#x30F3;&#x30C6;&#x30CA;&#x306E;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;&#x3092;&#x8FD4;&#x3057;&#x307E;&#x3059;
     * @return {SentenceContainer} &#x81EA;&#x8EAB;&#x306E;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x3092;&#x5C55;&#x958B;&#x3059;&#x308B;&#x6587;&#x7AE0;&#x30B3;&#x30F3;&#x30C6;&#x30CA;&#x306E;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;
     */
    sentenceContainer() {
        return this._sentenceContainer;
    }

    /**
     * &#x81EA;&#x8EAB;&#x306E;&#x5B50;&#x306E;&#x3046;&#x3061;&#x3001;&#x6700;&#x521D;&#x306E;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x306E;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;&#x3092;&#x53D6;&#x5F97;&#x3057;&#x307E;&#x3059;
     * @return {File} &#x6700;&#x521D;&#x306E;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x306E;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;
     */
    firstFile() {
        return this.findNextFile(this);
    }

    /**
     * &#x81EA;&#x8EAB;&#x306E;&#x5B50;&#x306E;&#x3046;&#x3061;&#x3001;&#x6700;&#x5F8C;&#x306E;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x306E;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;&#x3092;&#x53D6;&#x5F97;&#x3057;&#x307E;&#x3059;
     * @return {File} &#x6700;&#x5F8C;&#x306E;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x306E;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;
     */
    lastFile() {
        for (let file = this.firstFile(); file; file = file.nextFile()) {
            if (file.isLastFile()) {
                return file;
            }
        }
        return null;
    }

    /**
     * &#x73FE;&#x5728;&#x6587;&#x7AE0;&#x30B3;&#x30F3;&#x30C6;&#x30CA;&#x306B;&#x5C55;&#x958B;&#x3055;&#x308C;&#x3066;&#x3044;&#x308B;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x306E;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;&#x3092;&#x8FD4;&#x3057;&#x307E;&#x3059;
     * @return {File} &#x73FE;&#x5728;&#x958B;&#x304B;&#x308C;&#x3066;&#x3044;&#x308B;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x306E;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;
     */
    currentFile() {
        for (let file = this.firstFile(); file; file = file.nextFile()) {
            if (file.isOpen()) {
                return file;
            }
        }
        return null;
    }

    /**
     * &#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x30EA;&#x30B9;&#x30C8;&#x306E;&#x30E2;&#x30FC;&#x30C0;&#x30EB;&#x306E;jQuery&#x30AA;&#x30D6;&#x30B8;&#x30A7;&#x30AF;&#x30C8;&#x3092;&#x8FD4;&#x3057;&#x307E;&#x3059;
     * @return {jQuery} &#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x30EA;&#x30B9;&#x30C8;&#x30E2;&#x30FC;&#x30C0;&#x30EB;&#x306E;jQuery&#x30AA;&#x30D6;&#x30B8;&#x30A7;&#x30AF;&#x30C8;
     */
    $modal() {
        return this._$modal;
    }

    /**
     * &#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x30EA;&#x30B9;&#x30C8;&#x30E2;&#x30FC;&#x30C0;&#x30EB;&#x4E0B;&#x90E8;&#x306B;&#x3042;&#x308B;&#x691C;&#x7D22;&#x30DC;&#x30C3;&#x30AF;&#x30B9;&#x306E;DOM&#x8981;&#x7D20;&#x3092;&#x8FD4;&#x3057;&#x307E;&#x3059;
     * @return {Element} &#x691C;&#x7D22;&#x7528;Input&#x306E;DOM&#x8981;&#x7D20;
     */
    filterInputElem() {
        return this._filterInputElem;
    }

    /**
     * &#x6307;&#x5B9A;&#x3055;&#x308C;&#x305F;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x306E;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;&#x3092;&#x63A2;&#x7D22;&#x3057;&#x3066;&#x8FD4;&#x3057;&#x307E;&#x3059;&#x3002;
     *     &#x540C;&#x3058;&#x540D;&#x524D;&#x3092;&#x6301;&#x3064;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x304C;&#x8907;&#x6570;&#x898B;&#x3064;&#x304B;&#x308B;&#x5834;&#x5408;&#x3082;&#x3042;&#x308B;&#x306E;&#x3067;&#x3001;&#x7D50;&#x679C;&#x306F;&#x914D;&#x5217;&#x306B;&#x3057;&#x3066;&#x8FD4;&#x3057;&#x307E;&#x3059;
     * @param {number string} idOrName &#x5BFE;&#x8C61;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x306E;ID&#x3001;&#x3082;&#x3057;&#x304F;&#x306F;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x540D;
     * @return {File[]} &#x898B;&#x3064;&#x304B;&#x3063;&#x305F;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;&#x306E;&#x914D;&#x5217;
     */
    findFile(idOrName) {
        const ret = [];
        this.each(file =&gt; {
            if (file.isDirectory()) {
                return;
            }

            if (file.id() === idOrName ||
                (typeof idOrName === &apos;string&apos; &amp;&amp; new RegExp(&apos;^&apos;+ idOrName +&apos;$&apos;,&apos;i&apos;)
                    .test(file.name()))) {
                        ret.push(file);
                    }
        });
        return ret;
    }

    /**
     * &#x6307;&#x5B9A;&#x3055;&#x308C;&#x305F;&#x30C7;&#x30A3;&#x30EC;&#x30AF;&#x30C8;&#x30EA;&#x306E;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;&#x3092;&#x63A2;&#x7D22;&#x3057;&#x3066;&#x8FD4;&#x3057;&#x307E;&#x3059;&#x3002;
     *     &#x540C;&#x3058;&#x540D;&#x524D;&#x3092;&#x6301;&#x3064;&#x30C7;&#x30A3;&#x30EC;&#x30AF;&#x30C8;&#x30EA;&#x304C;&#x8907;&#x6570;&#x898B;&#x3064;&#x304B;&#x308B;&#x5834;&#x5408;&#x3082;&#x3042;&#x308B;&#x306E;&#x3067;&#x3001;&#x7D50;&#x679C;&#x306F;&#x914D;&#x5217;&#x306B;&#x3057;&#x3066;&#x8FD4;&#x3057;&#x307E;&#x3059;
     * @param {number string} idOrName &#x5BFE;&#x8C61;&#x30C7;&#x30A3;&#x30EC;&#x30AF;&#x30C8;&#x30EA;&#x306E;ID&#x3001;&#x3082;&#x3057;&#x304F;&#x306F;&#x30C7;&#x30A3;&#x30EC;&#x30AF;&#x30C8;&#x30EA;&#x540D;
     * @return {Directory[]} &#x898B;&#x3064;&#x304B;&#x3063;&#x305F;&#x30C7;&#x30A3;&#x30EC;&#x30AF;&#x30C8;&#x30EA;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;&#x306E;&#x914D;&#x5217;
     */
    findDirectory(idOrName) {
        const ret = [];
        this.each(dir =&gt; {
            if (dir.isFile()) {
                return;
            }

            if (dir.id() === idOrName ||
                (typeof idOrName === &apos;string&apos; &amp;&amp; new RegExp(&apos;^&apos;+ idOrName +&apos;$&apos;,&apos;i&apos;)
                    .test(dir.name()))) {
                        ret.push(dir);
                    }
        });
        return ret;
    }//}}}

    // --&#x5224;&#x5B9A; {{{
    /**
     * &#x81EA;&#x8EAB;&#x304C;FileList&#x306E;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;&#x3067;&#x3042;&#x308B;&#x304B;&#x3069;&#x3046;&#x304B;&#x3092;&#x8FD4;&#x3057;&#x307E;&#x3059;
     * @return {boolean} &#x5E38;&#x306B;true
     */
    isRoot() {
        return true;
    }

    /**
     * &#x81EA;&#x8EAB;&#x304C;Directory&#x306E;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;&#x3067;&#x3042;&#x308B;&#x304B;&#x3069;&#x3046;&#x304B;&#x3092;&#x8FD4;&#x3057;&#x307E;&#x3059;
     * @return {boolean} &#x5E38;&#x306B;false
     */
    isFile() {
        return false;
    }

    /**
     * &#x81EA;&#x8EAB;&#x304C;File&#x306E;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;&#x3067;&#x3042;&#x308B;&#x304B;&#x3069;&#x3046;&#x304B;&#x3092;&#x8FD4;&#x3057;&#x307E;&#x3059;
     * @return {boolean} &#x5E38;&#x306B;false
     */
    isDirectory() {
        return false;
    }

    /**
     * &#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x30EA;&#x30B9;&#x30C8;&#x306E;&#x30E2;&#x30FC;&#x30C0;&#x30EB;&#x304C;&#x958B;&#x3044;&#x3066;&#x3044;&#x308B;&#x304B;&#x3069;&#x3046;&#x304B;&#x3092;&#x8FD4;&#x3057;&#x307E;&#x3059;
     * @return {boolean} &#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x30EA;&#x30B9;&#x30C8;&#x306E;&#x30E2;&#x30FC;&#x30C0;&#x30EB;&#x304C;&#x958B;&#x3044;&#x3066;&#x3044;&#x308C;&#x3070;true&#x3001;&#x305D;&#x3046;&#x3067;&#x306A;&#x3051;&#x308C;&#x3070;false
     */
    isOpen() {
        return this.$modal().hasClass(&apos;in&apos;);
    }

    /**
     * &#x81EA;&#x8EAB;&#x306E;&#x5185;&#x90E8;&#x306B;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x304C;&#x3042;&#x308B;&#x304B;&#x3069;&#x3046;&#x304B;&#x3092;&#x8FD4;&#x3057;&#x307E;&#x3059;
     * @return {boolean} &#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x304C;&#x3042;&#x308C;&#x3070;true&#x3001;&#x305D;&#x3046;&#x3067;&#x306A;&#x3051;&#x308C;&#x3070;false
     */
    hasFile() {
        return this.firstFile() !== null;
    }//}}}

    // --&#x53C2;&#x7167;&#x64CD;&#x4F5C; {{{
    /**
     * &#x5185;&#x90E8;&#x306E;File&#x540C;&#x58EB;&#x3092;&#x53C2;&#x7167;&#x3067;&#x3064;&#x306A;&#x304E;&#x307E;&#x3059;
     * @return {FileList} &#x81EA;&#x8EAB;&#x306E;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;
     */
    chainFile() {
        let prev;
        this.each(file =&gt; {
            if (!file.isFile()) {
                return;
            }

            if (prev) {
                prev.nextFile(file);
            }
            file.prevFile(prev);
            prev = file;
        });
        return this;
    }

    /**
     * &#x30EA;&#x30B9;&#x30C8;&#x3067;&#x4E0A;&#x304B;&#x3089;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x3060;&#x3051;&#x3092;&#x6570;&#x3048;&#x305F;&#x5834;&#x5408;&#x306E;&#x3001;&#x5F15;&#x6570;&#x306E;&#x6B21;&#x306E;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x3092;&#x8FD4;&#x3057;&#x307E;&#x3059;
     * @param {FileList File Directory} file &#x57FA;&#x6E96;&#x3068;&#x3059;&#x308B;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;
     * @return {File} &#x898B;&#x3064;&#x304B;&#x3063;&#x305F;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x306E;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;&#x3002;&#x5F15;&#x6570;&#x306E;&#x6B21;&#x306E;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x304C;&#x898B;&#x3064;&#x304B;&#x3089;&#x306A;&#x3051;&#x308C;&#x3070;null
     */
    findNextFile(file) {
        /*
         *
         *  &#x30C1;&#x30A7;&#x30C3;&#x30AF;&#x3059;&#x308B;&#x9806;&#x756A;&#x306F;&#x3001;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x306A;&#x3089;&#x305D;&#x306E;&#x6B21;&#x306E;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x3092;&#x30C1;&#x30A7;&#x30C3;&#x30AF;&#x3057;&#x3001;&#x30C7;&#x30A3;&#x30EC;&#x30AF;&#x30C8;&#x30EA;&#x306A;&#x3089;&#x4E0B;&#x306B;&#x6F5C;&#x3063;&#x3066;&#x6700;&#x521D;&#x306B;&#x898B;&#x3064;&#x3051;&#x305F;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x3092;&#x30C1;&#x30A7;&#x30C3;&#x30AF;&#x3059;&#x308B;
         *  -- &#x5168;&#x8981;&#x7D20;&#x3092;&#x9806;&#x306B;&#x63A2;&#x7D22;&#x3057;&#x3066;&#x3044;&#x304F;&#x305F;&#x3081;&#x306E;&#x9053;&#x306E;&#x308A; --
         *  &#x5F15;&#x6570;&#x304C;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x306A;&#x3089;&#x3002;&#x5F15;&#x6570;&#x306E;&#x6B21;&#x3092;&#x78BA;&#x8A8D;&#x3059;&#x308B;
         *  &#x5F15;&#x6570;&#x304C;&#x30C7;&#x30A3;&#x30EC;&#x30AF;&#x30C8;&#x30EA;&#x306A;&#x3089;&#x3001;&#x305D;&#x306E;&#x6700;&#x521D;&#x306E;&#x5B50;&#x3092;&#x78BA;&#x8A8D;&#x3059;&#x308B;(FileList&#x306F;&#x30C7;&#x30A3;&#x30EC;&#x30AF;&#x30C8;&#x30EA;&#x6271;&#x3044;)
         *  &#x7A7A;&#x30C7;&#x30A3;&#x30EC;&#x30AF;&#x30C8;&#x30EA;(firstChild()===null)&#x306A;&#x3089;&#x3001;&#x5F15;&#x6570;&#x306E;&#x6B21;&#x3092;&#x78BA;&#x8A8D;&#x3059;&#x308B;
         *  &#x5F15;&#x6570;&#x306E;&#x6B21;&#x304C;&#x540C;&#x3058;&#x968E;&#x5C64;&#x306B;&#x306A;&#x3051;&#x308C;&#x3070;(&#x30C7;&#x30A3;&#x30EC;&#x30AF;&#x30C8;&#x30EA;&#x5185;&#x306E;&#x6700;&#x5F8C;&#x3068;&#x5224;&#x65AD;&#x3059;&#x308B;)&#x3001;&#x89AA;&#x30C7;&#x30A3;&#x30EC;&#x30AF;&#x30C8;&#x30EA;&#x306E;&#x6B21;&#x3092;&#x78BA;&#x8A8D;&#x3059;&#x308B;(&#x305D;&#x308C;&#x3067;&#x3082;&#x306A;&#x3051;&#x308C;&#x3070;&#x3001;&#x3055;&#x3089;&#x306B;&#x4E0A;&#x306E;&#x89AA;&#x30C7;&#x30A3;&#x30EC;&#x30AF;&#x30C8;&#x30EA;&#x306E;&#x6B21;&#x3001;&#x3068;&#x7E70;&#x308A;&#x8FD4;&#x3059;)
         *  &#x5F15;&#x6570;&#x306E;&#x6B21;&#x306E;&#x8981;&#x7D20;&#x304C;&#x898B;&#x3064;&#x304B;&#x3089;&#x305A;&#x89AA;&#x3092;&#x305F;&#x3069;&#x3063;&#x3066;&#x3044;&#x304F;&#x904E;&#x7A0B;&#x3067;&#x30EB;&#x30FC;&#x30C8;&#x30C7;&#x30A3;&#x30EC;&#x30AF;&#x30C8;&#x30EA;(FileList)&#x306B;&#x8FBF;&#x308A;&#x7740;&#x3044;&#x305F;&#x5834;&#x5408;&#x306F;&#x3001;&#x63A2;&#x7D22;&#x304C;&#x6700;&#x5F8C;&#x306B;&#x9054;&#x3057;&#x305F;&#x3068;&#x3057;&#x3066;null&#x3092;&#x8FD4;&#x3059;
         *  -- &#x3053;&#x3053;&#x307E;&#x3067;&#x3067;&#x78BA;&#x8A8D;&#x8981;&#x7D20;&#x3092;&#x53D6;&#x5F97; --
         *  &#x53D6;&#x5F97;&#x3057;&#x305F;&#x78BA;&#x8A8D;&#x8981;&#x7D20;&#x304C;&#x30C7;&#x30A3;&#x30EC;&#x30AF;&#x30C8;&#x30EA;&#x306A;&#x3089;&#x3001;&#x3055;&#x3089;&#x306B;&#x6F5C;&#x3063;&#x3066;&#x63A2;&#x7D22;&#x3092;&#x6B21;&#x306B;&#x9032;&#x3081;&#x308B;&#x305F;&#x3081;&#x518D;&#x5E30;&#x3059;&#x308B;
         *  &#x53D6;&#x5F97;&#x3057;&#x305F;&#x78BA;&#x8A8D;&#x8981;&#x7D20;&#x304C;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x306A;&#x3089;&#x3001;&#x305D;&#x306E;&#x8981;&#x7D20;&#x304C;&#x5F15;&#x6570;&#x306E;&#x6B21;&#x306E;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x306A;&#x306E;&#x3067;&#x8FD4;&#x3059;
         */
        if (file.isEmpty() &amp;&amp; file.isRoot()) {
            return null;
        }
        let check;
        if (file.isFile()) {
            check = file.next();
        }
        if (file.isDirectory() || file.isRoot()) {
            check = file.firstChild() || file.next();
        }
        if (!check) {
            for (let parentDir = file.parent();
                !(check = parentDir.next()); parentDir = parentDir.parent()) {
                    if (parentDir.isRoot()) {
                        return null;
                    }
                }
        }
        if (check.isDirectory()) {
            return this.findNextFile(check);
        }
        if (check.isFile()) {
            return check;
        }
        return null;
    }

    /**
     * &#x3059;&#x3079;&#x3066;&#x306E;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x3068;&#x30C7;&#x30A3;&#x30EC;&#x30AF;&#x30C8;&#x30EA;&#x3092;&#x9806;&#x306B;&#x5F15;&#x6570;&#x306B;&#x3057;&#x3066;&#x95A2;&#x6570;&#x3092;&#x5B9F;&#x884C;&#x3057;&#x307E;&#x3059;
     * @param {function} func &#x5B9F;&#x884C;&#x3059;&#x308B;&#x95A2;&#x6570;&#x30AA;&#x30D6;&#x30B8;&#x30A7;&#x30AF;&#x30C8;
     * @return {FileList} &#x81EA;&#x8EAB;&#x306E;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;
     */
    each(func) {
        if (this.firstChild() === null) { // &#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x3084;&#x30C7;&#x30A3;&#x30EC;&#x30AF;&#x30C8;&#x30EA;&#x304C;&#x3072;&#x3068;&#x3064;&#x3082;&#x306A;&#x3044;&#x5834;&#x5408;
            return this;
        }

        // file&#x306B;&#x5B50;&#x304C;&#x3042;&#x308C;&#x3070;&#x5B50;&#x306B;&#x9032;&#x307F;&#x3001;&#x306A;&#x3051;&#x308C;&#x3070;&#x6B21;&#x306B;&#x9032;&#x3080;(&#x5B50;&#x306E;&#x3042;&#x308B;&#x30C7;&#x30A3;&#x30EC;&#x30AF;&#x30C8;&#x30EA;&#x306A;&#x3089;&#x6700;&#x521D;&#x306E;&#x5B50;&#x3001;file&#x304B;&#x7A7A;&#x30C7;&#x30A3;&#x30EC;&#x30AF;&#x30C8;&#x30EA;&#x306A;&#x3089;&#x6B21;&#x306B;&#x9032;&#x3080;)
        // &#x6B21;&#x304C;&#x306A;&#x3051;&#x308C;&#x3070;&#x89AA;&#x306E;&#x6B21;&#x306B;&#x9032;&#x3080;&#x3002;&#x305D;&#x308C;&#x3067;&#x3082;&#x306A;&#x3051;&#x308C;&#x3070;&#x3055;&#x3089;&#x306B;&#x89AA;&#x306E;&#x6B21;&#x3001;&#x3068;&#x7E70;&#x308A;&#x8FD4;&#x3059;
        // &#x305D;&#x306E;&#x904E;&#x7A0B;&#x3067;&#x30EB;&#x30FC;&#x30C8;&#x30C7;&#x30A3;&#x30EC;&#x30AF;&#x30C8;&#x30EA;&#x304C;&#x898B;&#x3064;&#x304B;&#x308C;&#x3070;&#x63A2;&#x7D22;&#x7D42;&#x4E86;
        for (let file = this.firstChild(), temp = this;; temp = file,
            file = file.hasChild() ? file.firstChild() : file.next()) {
                if (file) {
                    func(file);
                    continue;
                }

                for (let parentDir = temp.parent();
                    !(file = parentDir.next()); parentDir = parentDir.parent()) {
                        if (parentDir.isRoot()) {
                            return this;
                        }
                    }
                func(file);
            }
        return this;
    }//}}}

    // --Style {{{

    /**
     * &#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x30EA;&#x30B9;&#x30C8;&#x306E;&#x30E2;&#x30FC;&#x30C0;&#x30EB;&#x3092;&#x958B;&#x304D;&#x307E;&#x3059;&#x3002;&#x305D;&#x306E;&#x969B;&#x3001;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x691C;&#x7D22;&#x30DC;&#x30C3;&#x30AF;&#x30B9;&#x306B;&#x81EA;&#x52D5;&#x7684;&#x306B;&#x30D5;&#x30A9;&#x30FC;&#x30AB;&#x30B9;&#x3092;&#x5F53;&#x3066;&#x307E;&#x3059;
     * @return {FileList} &#x81EA;&#x8EAB;&#x306E;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;
     */
    showModal() {
        this.filterInputElem().value = &apos;&apos;;
        this.filterInputElem().focus();
        this.resetList();
        this.$modal().modal();
        return this;
    }

    /**
     * &#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x30EA;&#x30B9;&#x30C8;&#x306E;&#x30E2;&#x30FC;&#x30C0;&#x30EB;&#x3092;&#x9589;&#x3058;&#x307E;&#x3059;
     * @return {FileList} &#x81EA;&#x8EAB;&#x306E;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;
     */
    hideModal() {
        this.$modal().modal(&apos;hide&apos;);
        return this;
    }//}}}

    // --DOM&#x64CD;&#x4F5C; {{{

    /**
     * &#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x30EA;&#x30B9;&#x30C8;&#x306E;&#x672B;&#x7AEF;&#x306B;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x3001;&#x307E;&#x305F;&#x306F;&#x30C7;&#x30A3;&#x30EC;&#x30AF;&#x30C8;&#x30EA;&#x3092;&#x8FFD;&#x52A0;&#x3057;&#x307E;&#x3059;
     * @param {File Directory} file &#x8FFD;&#x52A0;&#x3059;&#x308B;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x3001;&#x307E;&#x305F;&#x306F;&#x30C7;&#x30A3;&#x30EC;&#x30AF;&#x30C8;&#x30EA;
     * @return {FileList} &#x81EA;&#x8EAB;&#x306E;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;
     */
    append(file) {
        // DOM
        this.appendElem(file);

        // &#x30DD;&#x30A4;&#x30F3;&#x30BF;&#x8ABF;&#x6574;
        // &#x6700;&#x521D;&#x306E;&#x8981;&#x7D20;&#x3068;&#x6700;&#x5F8C;&#x306E;&#x8981;&#x7D20;&#x306F;&#x3064;&#x306A;&#x3052;&#x308B;

        if (this.hasChild()) {
            this.lastChild().next(file);
            file.prev(this.lastChild());
        }
        file.parent(this);
        this.pushChild(file);
        return this;
    }

    /**
     * &#x81EA;&#x8EAB;&#x306E;DOM&#x8981;&#x7D20;&#x306E;&#x5185;&#x90E8;&#x306E;&#x6700;&#x5F8C;&#x306B;file&#x306E;DOM&#x8981;&#x7D20;&#x3092;&#x8FFD;&#x52A0;&#x3057;&#x307E;&#x3059;
     * @param {File Directory} file &#x8FFD;&#x52A0;&#x3059;&#x308B;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x3001;&#x307E;&#x305F;&#x306F;&#x30C7;&#x30A3;&#x30EC;&#x30AF;&#x30C8;&#x30EA;&#x306E;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;
     * @return {FileList} &#x81EA;&#x8EAB;&#x306E;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;
     */
    appendElem(file) {
        this.elem().appendChild(file.elem());
        return this;
    }

    /**
     * &#x5185;&#x90E8;&#x306E;&#x30A8;&#x30EC;&#x30E1;&#x30F3;&#x30C8;&#x3092;&#x7A7A;&#x306B;&#x3057;&#x307E;&#x3059;
     * @return {FileList} &#x81EA;&#x8EAB;&#x306E;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;
     */
    emptyElem() {
        // FileList&#x306F;&#x5185;&#x90E8;&#x306E;&#x30A8;&#x30EC;&#x30E1;&#x30F3;&#x30C8;&#x304C;&#x53C2;&#x7167;&#x3068;&#x306F;&#x72EC;&#x7ACB;&#x3057;&#x3066;&#x5909;&#x52D5;&#x3059;&#x308B;&#x305F;&#x3081;&#x3001;&#x53C2;&#x7167;&#x3068;&#x3057;&#x3066;&#x4FDD;&#x6301;&#x3057;&#x3066;&#x3044;&#x308B;&#x30A8;&#x30EC;&#x30E1;&#x30F3;&#x30C8;&#x3092;&#x524A;&#x9664;&#x3059;&#x308B;&#x65B9;&#x5F0F;&#x3067;&#x306F;
        // &#x5B58;&#x5728;&#x3057;&#x306A;&#x3044;&#x30A8;&#x30EC;&#x30E1;&#x30F3;&#x30C8;&#x3092;&#x524A;&#x9664;&#x3057;&#x3088;&#x3046;&#x3068;&#x3059;&#x308B;&#x3053;&#x3068;&#x306B;&#x306A;&#x308A;&#x30A8;&#x30E9;&#x30FC;&#x304C;&#x8D77;&#x3053;&#x308B;&#x305F;&#x3081;&#x3001;&#x30AA;&#x30FC;&#x30D0;&#x30FC;&#x30E9;&#x30A4;&#x30C9;&#x3059;&#x308B;
        const children = this.elem().children;
        let child;
        while ((child = children[0])) {
            this.elem().removeChild(child);
        }
        return this;
    }

    /**
     * &#x5404;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;&#x306E;&#x53C2;&#x7167;&#x306F;&#x305D;&#x306E;&#x307E;&#x307E;&#x3067;&#x3001;DOM&#x8981;&#x7D20;&#x306E;&#x307F;&#x3092;&#x69CB;&#x7BC9;&#x3057;&#x76F4;&#x3057;&#x307E;&#x3059;
     * @return {FileList} &#x81EA;&#x8EAB;&#x306E;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;
     */
    resetList() {
        this.emptyElem();
        this.each(file =&gt; {
            file.parent().appendElem(file);
        });
        return this;
    }

    /**
     * &#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x30EA;&#x30B9;&#x30C8;&#x306E;&#x5185;&#x5BB9;&#x3092;str&#x304B;&#x3089;&#x59CB;&#x307E;&#x308B;&#x540D;&#x524D;&#x3092;&#x6301;&#x3064;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x30FB;&#x30C7;&#x30A3;&#x30EC;&#x30AF;&#x30C8;&#x30EA;&#x306E;&#x307F;&#x306B;&#x7F6E;&#x304D;&#x63DB;&#x3048;&#x307E;&#x3059;(&#x5404;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;&#x306E;&#x53C2;&#x7167;&#x306F;&#x305D;&#x306E;&#x307E;&#x307E;&#x3067;&#x3001;DOM&#x8981;&#x7D20;&#x306E;&#x307F;&#x3092;&#x5909;&#x66F4;&#x3057;&#x307E;&#x3059;)
     * @param {string} str &#x3053;&#x306E;&#x6587;&#x5B57;&#x5217;&#x304B;&#x3089;&#x59CB;&#x307E;&#x308B;&#x540D;&#x524D;&#x3092;&#x6301;&#x3064;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x3001;&#x30C7;&#x30A3;&#x30EC;&#x30AF;&#x30C8;&#x30EA;&#x3060;&#x3051;&#x304C;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x30EA;&#x30B9;&#x30C8;&#x5185;&#x306B;&#x8868;&#x793A;&#x3055;&#x308C;&#x308B;
     * @return {FileList} &#x81EA;&#x8EAB;&#x306E;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;
     */
    filter(str) {
        this.emptyElem();
        const regexp = new RegExp(&apos;^&apos;+ str +&apos;.*&apos;,&apos;i&apos;);
        this.each(file =&gt; {
            if (regexp.test(file.name())) {
                this.elem().appendChild(file.elem());
            }
        });
        if (this.elem().children.length === 0) {
            const li = document.createElement(&apos;li&apos;);
            li.textContent = &apos;&#x8A72;&#x5F53;&#x3059;&#x308B;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x306F;&#x898B;&#x3064;&#x304B;&#x308A;&#x307E;&#x305B;&#x3093;&#x3067;&#x3057;&#x305F;&#x3002;&apos;;
            this.elem().appendChild(li);
        }
        return this;
    }//}}}

    // &#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x64CD;&#x4F5C;(&#x975E;&#x540C;&#x671F;&#x901A;&#x4FE1;)//{{{

    /**
     * &#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x30EA;&#x30B9;&#x30C8;&#x3092;&#x30B5;&#x30FC;&#x30D0;&#x30FC;&#x304B;&#x3089;&#x8AAD;&#x307F;&#x8FBC;&#x307F;&#x3001;&#x5404;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;&#x3092;&#x69CB;&#x7BC9;&#x3057;&#x76F4;&#x3057;&#x307E;&#x3059;(&#x975E;&#x540C;&#x671F;&#x901A;&#x4FE1;)
     * @return {FileList} &#x81EA;&#x8EAB;&#x306E;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;
     * @see ../WEB-INF/classes/doc/FileListServlet.html
     */
    read() {
        Util.get(&apos;/tategaki/FileList&apos;,
            function (json) {
                this.init(json);
            }.bind(this));
        return this;
    }

    /**
     * &#x73FE;&#x5728;&#x958B;&#x3044;&#x3066;&#x3044;&#x308B;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x306E;&#x6B21;&#x306E;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x3092;&#x8AAD;&#x307F;&#x8FBC;&#x307F;&#x3001;&#x6587;&#x7AE0;&#x30B3;&#x30F3;&#x30C6;&#x30CA;&#x306B;&#x5C55;&#x958B;&#x3057;&#x307E;&#x3059;
     * @return {FileList} &#x81EA;&#x8EAB;&#x306E;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;
     */
    openNextFile() {
        const currentFile = this.currentFile();
        const file = currentFile &amp;&amp; currentFile.nextFile();
        if (file) {
            file.open();
        } else if(this.hasFile()) {
            this.firstFile().open();
        }
        return this;
    }

    /**
     * &#x73FE;&#x5728;&#x958B;&#x3044;&#x3066;&#x3044;&#x308B;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x306E;&#x524D;&#x306E;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x3092;&#x8AAD;&#x307F;&#x8FBC;&#x307F;&#x3001;&#x6587;&#x7AE0;&#x30B3;&#x30F3;&#x30C6;&#x30CA;&#x306B;&#x5C55;&#x958B;&#x3057;&#x307E;&#x3059;
     * @return {FileList} &#x81EA;&#x8EAB;&#x306E;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;
     */
    openPrevFile() {
        const currentFile = this.currentFile();
        const file = currentFile &amp;&amp; currentFile.prevFile();
        if (file) {
            file.open();
        } else if (this.hasFile()) {
            this.lastFile().open();
        }
        return this;
    }

    /**
     * &#x540D;&#x524D;&#x3067;&#x6307;&#x5B9A;&#x3055;&#x308C;&#x305F;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x3092;&#x524A;&#x9664;&#x3057;&#x307E;&#x3059;(&#x975E;&#x540C;&#x671F;&#x901A;&#x4FE1;)&#x3002;&#x540C;&#x540D;&#x306E;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x304C;&#x8907;&#x6570;&#x898B;&#x3064;&#x304B;&#x3063;&#x305F;&#x5834;&#x5408;&#x306F;&#x78BA;&#x8A8D;&#x3057;&#x307E;&#x3059;
     * @param {string} filename &#x524A;&#x9664;&#x3059;&#x308B;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x306E;&#x540D;&#x524D;
     * @return {FileList} &#x81EA;&#x8EAB;&#x306E;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;
     * @see ../WEB-INF/classes/doc/DeleteFile.html
     */
    deleteFile(filename) {
        const files = this.findFile(filename);
        const fileLength = files.length;
        if (fileLength === 0) {
            this.sentenceContainer().announce(&apos;&#x5B58;&#x5728;&#x3057;&#x306A;&#x3044;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x3067;&#x3059;&apos;,&apos;red&apos;);
            return this;
        }

        if (fileLength === 1) {
            files[0].delete();
            return this;
        }

        if (fileLength &gt; 0) {
            if (window.confirm(&apos;&#x540C;&#x4E00;&#x540D;&#x306E;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x304C;&#x8907;&#x6570;&#x5B58;&#x5728;&#x3057;&#x307E;&#x3059;&#x3002;\n&apos; +
                &apos;&#x3059;&#x3079;&#x3066;&#x306E;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x3092;&#x524A;&#x9664;&#x3057;&#x307E;&#x3059;&#x304B;&#x3002;\n&apos; +
                    &apos;&#x3053;&#x306E;&#x3046;&#x3061;&#x306E;&#x3069;&#x308C;&#x304B;&#x306E;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x3092;&#x524A;&#x9664;&#x3059;&#x308B;&#x5834;&#x5408;&#x306F;&#x30AD;&#x30E3;&#x30F3;&#x30BB;&#x30EB;&#x3057;&#x3001;&#x500B;&#x5225;&#x306B;&#x524A;&#x9664;&#x3057;&#x3066;&#x304F;&#x3060;&#x3055;&#x3044;&#x3002;&apos;)) {
                        for (let i = 0,file; (file = files[i]); i++) {
                            file.delete();
                        }
                    } else {
                        console.log(&apos;[&#x8907;&#x6570;&#x30D5;&#x30A1;&#x30A4;&#x30EB;]&#x524A;&#x9664;&#x3067;&#x304D;&#x307E;&#x305B;&#x3093;&#x3067;&#x3057;&#x305F;&#x3002;:&apos; + filename);
                    }
        }
        return this;
    }

    /**
     * &#x6307;&#x5B9A;&#x3055;&#x308C;&#x305F;&#x540D;&#x524D;&#x3067;&#x30C7;&#x30A3;&#x30EC;&#x30AF;&#x30C8;&#x30EA;&#x3092;&#x4F5C;&#x6210;&#x3057;&#x307E;&#x3059;(&#x975E;&#x540C;&#x671F;&#x901A;&#x4FE1;)
     * @param {string} dirname &#x65B0;&#x3057;&#x304F;&#x4F5C;&#x6210;&#x3055;&#x308C;&#x308B;&#x30C7;&#x30A3;&#x30EC;&#x30AF;&#x30C8;&#x30EA;&#x306E;&#x540D;&#x524D;
     * @param {number} [opt_parentID] &#x89AA;&#x30C7;&#x30A3;&#x30EC;&#x30AF;&#x30C8;&#x30EA;&#x306E;ID&#x3002;&#x6307;&#x5B9A;&#x3057;&#x306A;&#x3051;&#x308C;&#x3070;root&#x76F4;&#x4E0B;
     * @return {FileList} &#x81EA;&#x8EAB;&#x306E;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;
     * @see ../WEB-INF/classes/doc/FileListServlet.html
     */
    mkdir(dirname, opt_parentID) {
        if (!dirname) {
            return this;
        }

        Util.post(&apos;/tategaki/FileList&apos;,{
            name: dirname,
            new_parent_id: opt_parentID || -1,
            saved: Date.now()
        },function (data) {
            if (data.result === &apos;true&apos;) {
                this.sentenceContainer().announce(&apos;&#x30C7;&#x30A3;&#x30EC;&#x30AF;&#x30C8;&#x30EA;&#x3092;&#x4F5C;&#x6210;&#x3057;&#x307E;&#x3057;&#x305F;:&apos;+ dirname);
                this.read();
            } else {
                this.sentenceContainer().announce(&apos;&#x30C7;&#x30A3;&#x30EC;&#x30AF;&#x30C8;&#x30EA;&#x4F5C;&#x6210;&#x30A8;&#x30E9;&#x30FC;&apos;);
            }
        }.bind(this));
        return this;
    }

    /**
     * &#x6307;&#x5B9A;&#x3055;&#x308C;&#x305F;&#x540D;&#x524D;&#x306E;&#x30C7;&#x30A3;&#x30EC;&#x30AF;&#x30C8;&#x30EA;&#x3092;&#x524A;&#x9664;&#x3057;&#x307E;&#x3059;(&#x975E;&#x540C;&#x671F;&#x901A;&#x4FE1;)
     * @param {string} dirname &#x524A;&#x9664;&#x3059;&#x308B;&#x30C7;&#x30A3;&#x30EC;&#x30AF;&#x30C8;&#x30EA;&#x306E;&#x540D;&#x524D;
     * @param {boolean} isForce &#x30C7;&#x30A3;&#x30EC;&#x30AF;&#x30C8;&#x30EA;&#x5185;&#x306B;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x7B49;&#x304C;&#x3042;&#x3063;&#x3066;&#x3082;&#x5F37;&#x5236;&#x7684;&#x306B;&#x4E2D;&#x8EAB;&#x3054;&#x3068;&#x524A;&#x9664;&#x3059;&#x308B;&#x306A;&#x3089;true&#x3001;&#x305D;&#x3046;&#x3067;&#x306A;&#x3051;&#x308C;&#x3070;false
     * @return {FileList} &#x81EA;&#x8EAB;&#x306E;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;
     * @see ../WEB-INF/classes/doc/Delete.html
     */
    deleteDirectory(dirname, isForce) {
        const dirs = this.findDirectory(dirname);
        if (dirs.length === 0) {
            return this;
        }

        dirs[0].delete(isForce);
        return this;
    }

    /**
     * &#x6307;&#x5B9A;&#x3055;&#x308C;&#x305F;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x3092;&#x6307;&#x5B9A;&#x3055;&#x308C;&#x305F;&#x30C7;&#x30A3;&#x30EC;&#x30AF;&#x30C8;&#x30EA;&#x5185;&#x306B;&#x79FB;&#x52D5;&#x3057;&#x307E;&#x3059;(&#x975E;&#x540C;&#x671F;&#x901A;&#x4FE1;)
     * @param {string} filename &#x79FB;&#x52D5;&#x3059;&#x308B;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x540D;&#x3002;&#x540C;&#x540D;&#x306E;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x304C;&#x898B;&#x3064;&#x304B;&#x3063;&#x305F;&#x5834;&#x5408;&#x306F;&#x3001;&#x6700;&#x521D;&#x306B;&#x898B;&#x3064;&#x304B;&#x3063;&#x305F;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x304C;&#x9078;&#x629E;&#x3055;&#x308C;&#x308B;
     * @param {string} dirname &#x79FB;&#x52D5;&#x5148;&#x306E;&#x30C7;&#x30A3;&#x30EC;&#x30AF;&#x30C8;&#x30EA;&#x540D;&#x3002;&#x540C;&#x540D;&#x306E;&#x30C7;&#x30A3;&#x30EC;&#x30AF;&#x30C8;&#x30EA;&#x304C;&#x898B;&#x3064;&#x304B;&#x3063;&#x305F;&#x5834;&#x5408;&#x306F;&#x3001;&#x6700;&#x521D;&#x306B;&#x898B;&#x3064;&#x304B;&#x3063;&#x305F;&#x30C7;&#x30A3;&#x30EC;&#x30AF;&#x30C8;&#x30EA;&#x304C;&#x9078;&#x629E;&#x3055;&#x308C;&#x308B;
     * @return {FileList} &#x81EA;&#x8EAB;&#x306E;&#x30A4;&#x30F3;&#x30B9;&#x30BF;&#x30F3;&#x30B9;
     * @see ../WEB-INF/classes/doc/FileListServlet.html
     */
    moveFile(filename, dirname) {
        const files = this.findFile(filename);
        const dirs = this.findDirectory(dirname);
        if (files.length === 0 || dirs.length === 0) {
            return this;
        }

        files[0].move(dirs[0]);
        return this;
    }//}}}

    // --&#x30A4;&#x30D9;&#x30F3;&#x30C8; {{{

    /**
     * &#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x30EA;&#x30B9;&#x30C8;&#x306E;&#x30E2;&#x30FC;&#x30C0;&#x30EB;&#x5185;&#x306B;&#x3042;&#x308B;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x691C;&#x7D22;&#x30DC;&#x30C3;&#x30AF;&#x30B9;&#x95A2;&#x4FC2;&#x306E;&#x30A4;&#x30D9;&#x30F3;&#x30C8;&#x3092;&#x4ED8;&#x52A0;&#x3057;&#x307E;&#x3059;
     */
    addEventListenerOnInput() {
        // &#x30E2;&#x30FC;&#x30C0;&#x30EB;&#x304C;&#x958B;&#x304F;&#x3068;&#x3001;&#x691C;&#x7D22;&#x6B04;&#x306B;&#x30D5;&#x30A9;&#x30FC;&#x30AB;&#x30B9;&#x304C;&#x79FB;&#x52D5;&#x3059;&#x308B;
        this.$modal().on(&apos;shown.bs.modal&apos;,function (e) {
            this.filterInputElem().focus();
        }.bind(this));
        // &#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x691C;&#x7D22;&#x6B04;
        this.filterInputElem().addEventListener(&apos;keyup&apos;,this.onKeyupOnInput.bind(this));
    }

    /**
     * &#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x691C;&#x7D22;&#x30DC;&#x30C3;&#x30AF;&#x30B9;&#x306E;keyup&#x30A4;&#x30D9;&#x30F3;&#x30C8;&#x306E;&#x5185;&#x5BB9;&#x3067;&#x3059;
     * @param {Event} e &#x30A4;&#x30D9;&#x30F3;&#x30C8;&#x30AA;&#x30D6;&#x30B8;&#x30A7;&#x30AF;&#x30C8;
     */
    onKeyupOnInput(e) {
        let keycode;
        if (document.all) {
            // IE
            keycode = e.keyCode;
        } else {
            // IE&#x4EE5;&#x5916;
            keycode = e.which;
        }

        if (keycode === 123) { return; } // F12&#x306E;&#x307F;&#x30D6;&#x30E9;&#x30A6;&#x30B6;&#x30B7;&#x30E7;&#x30FC;&#x30C8;&#x30AB;&#x30C3;&#x30C8;&#x30AD;&#x30FC;
        if (keycode === 13) {
            // enter
            const file = this.findFile(this.filterInputElem().value)[0];
            if (file) {
                file.open();
            }
            this.hideModal();
            this.resetList();
        } else if (this.filterInputElem().value.length === 0) {
            this.resetList();
        } else {
            this.filter(this.filterInputElem().value);
        }
    }//}}}
}//}}}

</code></pre>

</div>

<footer class="footer">
  Generated by <a href="https://esdoc.org">ESDoc<span data-ice="esdocVersion">(0.5.2)</span><img src="./image/esdoc-logo-mini-black.png"></a>
</footer>

<script src="script/search_index.js"></script>
<script src="script/search.js"></script>
<script src="script/pretty-print.js"></script>
<script src="script/inherited-summary.js"></script>
<script src="script/test-summary.js"></script>
<script src="script/inner-link.js"></script>
<script src="script/patch-for-local.js"></script>
</body>
</html>
