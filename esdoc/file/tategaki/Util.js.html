<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <base data-ice="baseUrl" href="../../">
  <title data-ice="title">tategaki/Util.js | API Document</title>
  <link type="text/css" rel="stylesheet" href="css/style.css">
  <link type="text/css" rel="stylesheet" href="css/prettify-tomorrow.css">
  <script src="script/prettify/prettify.js"></script>
  
  
  <script src="script/manual.js"></script>
</head>
<body class="layout-container" data-ice="rootContainer">

<header>
  <a href="./">Home</a>
  
  <a href="identifiers.html">Reference</a>
  <a href="source.html">Source</a>
  
  
  <div class="search-box">
  <span>
    <img src="./image/search.png">
    <span class="search-input-edge"></span><input class="search-input"><span class="search-input-edge"></span>
  </span>
    <ul class="search-result"></ul>
  </div>
</header>

<nav class="navigation" data-ice="nav"><div>
  <ul>
    
  <li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/tategaki/object.js~Menu.html">Menu</a></span></span></li>
</ul>
</div>
</nav>

<div class="content" data-ice="content"><h1 data-ice="title">tategaki/Util.js</h1>
<pre class="source-code line-number raw-source-code"><code class="prettyprint linenums" data-ice="content">const Util = {
	// baseArray&#x3092;cnt&#x500B;&#x305A;&#x3064;&#x306E;&#x914D;&#x5217;&#x306B;&#x5206;&#x5272;&#x3059;&#x308B;
	splitArray:function(baseArray,cnt) {
		&apos;use strict&apos;;
		const b = baseArray.length;
		const newArray = [];

		for (let i = 0,j,p; i &lt; Math.ceil(b/cnt); i++) {
			j = i*cnt;
			p = baseArray.slice(j,j+cnt);
			newArray.push(p);
		}
		return newArray;
	},
	copyArray:function (array) {
		&apos;use strict&apos;;
		const retArray = [];
		for (let value of array) {
			retArray.push(value);
		}
		return retArray;
	},
	// &#xFF12;&#x70B9;&#x9593;&#x306E;&#x8DDD;&#x96E2;&#x3092;&#x8A08;&#x7B97;&#x3059;&#x308B;
	computeDistanceP2P:function(x1,y1,x2,y2) {
		&apos;use strict&apos;;
		// &#xFF12;&#x4E57;&#x3092;&#x4F7F;&#x3063;&#x3066;&#x3044;&#x308B;&#x306E;&#x3067;&#x3001;&#x623B;&#x308A;&#x5024;&#x306F;&#x5FC5;&#x305A;&#x6B63;&#x306E;&#x6570;&#x306B;&#x306A;&#x308B;
		// &#x221A;{(b.x - a.x)^2+ (b.y - a.y)^2}
		return Math.sqrt(Math.pow(x2-x1,2)+Math.pow(y2-y1,2));
	},
	post: function (url,data,callback) {
		&apos;use strict&apos;;
		const xhr = new XMLHttpRequest();
		xhr.responseType = &apos;json&apos;;
		xhr.open(&apos;POST&apos;,url);
		xhr.setRequestHeader(&apos;Content-Type&apos;,&apos;application/x-www-form-urlencoded;charset=UTF-8&apos;);

		let sendData = &apos;&apos;;
		for (let name in data) {
			if (sendData != &apos;&apos;) {
				sendData += &apos;&amp;&apos;;
			}
			sendData += name + &apos;=&apos; + encodeURI(data[name]).replace(/&amp;/g,&apos;%26&apos;);
		}

		xhr.addEventListener(&apos;load&apos;,function (e) {
			if (xhr.response) {
				callback(xhr.response);
			} else {
				console.log(&apos;unsuccess&apos;);
			}
		});
		xhr.addEventListener(&apos;abort&apos;,function (e) {
			console.log(&apos;abort&apos;);
		});
		xhr.send(sendData);
	}
};
// closer
Util.createCharElement = (function () {
	&apos;use strict&apos;;
	const eCharTemplate = document.createElement(&apos;span&apos;);
	eCharTemplate.classList.add(&apos;char&apos;);
	eCharTemplate.classList.add(&apos;display&apos;);

	return function (data) {
		const eChar = eCharTemplate.cloneNode(true);
		const char = data[&apos;char&apos;];
		const classArr = data[&apos;decolation&apos;];
		const fontSize = data[&apos;fontSize&apos;];
		eChar.textContent = char;
		eChar.dataset.fontSize = fontSize || &apos;auto&apos;;
		for (let decolation of classArr) {
			eChar.classList.add(decolation);
		}

		// &#x6587;&#x5B57;&#x306E;&#x7A2E;&#x985E;&#x306B;&#x5FDC;&#x3058;&#x3066;&#x4ED8;&#x4E0E;&#x3059;&#x308B;&#x30AF;&#x30E9;&#x30B9;
		if (/[&#x3002;&#x3001;,.,]/.test(char))
			eChar.classList.add(&apos;vertical-dot&apos;);
		else if (/[&#x300C;&#x300E;]/.test(char))
			eChar.classList.add(&apos;vertical-before-kagi-bracket&apos;);
		else if (/[&#x300D;&#x300F;]/.test(char))
			eChar.classList.add(&apos;vertical-after-kagi-bracket&apos;);
		else if (/[&#xFF08;\[&lt;\{&#x3010;\(&#xFF3B;&#x3008;]/.test(char))
			eChar.classList.add(&apos;vertical-before-bracket&apos;);
		else if (/[\)\]&gt;\}&#x3011;&#xFF09;&#xFF3D;&#x3009;]/.test(char))
			eChar.classList.add(&apos;vertical-after-bracket&apos;);
		else if (/[-&#x30FC;&#x2015;&#x301C;]/.test(char))
			eChar.classList.add(&apos;character-line&apos;);
		else if (/[a-z]/.test(char))
			eChar.classList.add(&apos;alphabet&apos;);
		else if (/[&#xFF11;-&#xFF19;]/.test(char))
			eChar.classList.add(&apos;number&apos;);
		else if (/[&#x3063;&#x3083;&#x3085;&#x3087;&#x3041;&#x3043;&#x3045;&#x3047;&#x3049;&#x30A1;&#x30A3;&#x30A5;&#x30A7;&#x30A9;&#x30C3;&#x30E3;&#x30E5;&#x30E7;]/.test(char))
			eChar.classList.add(&apos;yoin&apos;);

		return eChar;
	}
})();
Util.createRowElement = (function () {
	&apos;use strict&apos;;
	/*
	 *	[												 // &#x5404;&#x6587;&#x5B57;&#x306E;&#x30AA;&#x30D6;&#x30B8;&#x30A7;&#x30AF;&#x30C8;&#x304C;&#x914D;&#x5217;&#x3067;&#x683C;&#x7D0D;&#x3055;&#x308C;&#x308B;
	 *		{											 // &#x6587;&#x5B57;&#x3092;&#x8868;&#x3059;&#x30AA;&#x30D6;&#x30B8;&#x30A7;&#x30AF;&#x30C8;
	 *			&quot;char&quot;:&quot;&#x3042;&quot;,
	 *			&quot;decolation&quot;:[&quot;decolation-color-blue&quot;]
	 *		},
	 *		{
	 *			&quot;char&quot;:&quot;&#x3044;&quot;,
	 *			&quot;decolation&quot;:null
	 *		}
	 *	]
	 */
	const eRowTemplate = document.createElement(&apos;div&apos;);
	eRowTemplate.classList.add(&apos;row&apos;);
	eRowTemplate.classList.add(&apos;display&apos;);
	const eEOL = document.createElement(&apos;span&apos;);
	eEOL.classList.add(&apos;char&apos;);
	eEOL.classList.add(&apos;EOL&apos;);
	eEOL.classList.add(&apos;display&apos;);
	eRowTemplate.appendChild(eEOL);

	return function (data) {
		const eRow = eRowTemplate.cloneNode(true);
		return eRow;
	}
})();
Util.createParagraphElement = (function () {
	&apos;use strict&apos;;
	// &#x6C7A;&#x307E;&#x3063;&#x305F;&#x5F62;&#x306E;&#x30AA;&#x30D6;&#x30B8;&#x30A7;&#x30AF;&#x30C8;&#x3092;&#x5F15;&#x6570;&#x306B;&#x3057;&#x3066;&#x3001;paragraph&#x306E;html&#x6587;&#x5B57;&#x5217;&#x3092;&#x4F5C;&#x6210;&#x3059;&#x308B;
	/*
	 * 			[
	 * 				[&quot;decolation-textalign-center&quot;],		 // &#x6BB5;&#x843D;&#x306E;&#x30AF;&#x30E9;&#x30B9;&#x304C;&#x6587;&#x5B57;&#x5217;&#x306E;&#x914D;&#x5217;&#x3067;&#x683C;&#x7D0D;&#x3055;&#x308C;&#x308B;
	 * 				[												 // &#x5404;&#x6587;&#x5B57;&#x306E;&#x30AA;&#x30D6;&#x30B8;&#x30A7;&#x30AF;&#x30C8;&#x304C;&#x914D;&#x5217;&#x3067;&#x683C;&#x7D0D;&#x3055;&#x308C;&#x308B;
	 * 					{											 // &#x6587;&#x5B57;&#x3092;&#x8868;&#x3059;&#x30AA;&#x30D6;&#x30B8;&#x30A7;&#x30AF;&#x30C8;
	 * 						&quot;char&quot;:&quot;&#x3042;&quot;,
	 * 						&quot;decolation&quot;:[&quot;decolation-color-blue&quot;]
	 * 					},
	 * 					{
	 * 						&quot;char&quot;:&quot;&#x3044;&quot;,
	 * 						&quot;decolation&quot;:[]
	 * 					}
	 * 					]
	 * 			]
	 */
	const eParagraphTemplate = document.createElement(&apos;div&apos;);
	eParagraphTemplate.classList.add(&apos;paragraph&apos;);

	return function (data) {
		const eParagraph = eParagraphTemplate.cloneNode(true);
		// &#x6BB5;&#x843D;&#x305D;&#x306E;&#x3082;&#x306E;&#x306B;&#x30AF;&#x30E9;&#x30B9;&#x3092;&#x4ED8;&#x4E0E;&#x3059;&#x308B;
		for (let className of data[0]) {
			eParagraph.classList.add(className);
		}
		return eParagraph;
	}
})();
Util.createCharPosElement = (function () {
	&apos;use strict&apos;;
	const eCharPosTemplate = document.createElement(&apos;span&apos;);
	eCharPosTemplate.classList.add(&apos;char-pos&apos;);

	return function (strLen) {
		const flagment = document.createDocumentFragment();
		for (var i = 0; i &lt;= strLen; i++) { // EOL&#x306E;&#x5206;&#x3082;&#x4F5C;&#x6210;&#x3059;&#x308B;
			const eCharPos = eCharPosTemplate.cloneNode(true);
			flagment.appendChild(eCharPos);
		}
		return flagment;
	}
})();
Util.createConvertViewElement = (function () {
	&apos;use strict&apos;;
	const eViewTemplate = document.createElement(&apos;div&apos;);
	eViewTemplate.classList.add(&apos;convert-view&apos;);

	return function () {
		&apos;use strict&apos;;
		const eView = eViewTemplate.cloneNode(true);
		return eView;
	}
})();
// file_list&#x306E;&#x4E2D;&#x306B;&#x5165;&#x308C;&#x308B;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x884C;&#x3092;&#x4F5C;&#x6210;&#x3059;&#x308B;
Util.createFileElement = (function () {
	&apos;use strict&apos;;
	/*
	 * &#x4F5C;&#x6210;&#x4F8B;
	 * &lt;li&gt;
	 * &lt;a class=&quot;file&quot;
	 * data-type=&quot;file&quot;
	 * href=&quot;#&quot;
	 * data-file-id=&quot;1&quot;
	 * data-file-name=&quot;filename&quot;
	 * &gt;
	 * filename
	 * &lt;/a&gt;
	 * &lt;/li&gt;
	 */
	const eFileTemplate = document.createElement(&apos;li&apos;);
	eFileTemplate.classList.add(&apos;fileLi&apos;);
	const eFileLinkTemplate = document.createElement(&apos;a&apos;);
	eFileLinkTemplate.classList.add(&apos;file&apos;);
	eFileLinkTemplate.dataset.type = &apos;file&apos;;
	eFileLinkTemplate.href = &apos;#&apos;;

	return function (id,filename) {
		const eFile = eFileTemplate.cloneNode(true);
		const eFileLink = eFileLinkTemplate.cloneNode(true);
		eFileLink.dataset.fileId = id;
		eFileLink.dataset.fileName = filename;
		eFileLink.textContent = filename;
		eFile.appendChild(eFileLink);
		return eFile;
	}
})();
// file_list&#x306E;&#x4E2D;&#x306B;&#x5165;&#x308C;&#x308B;&#x30C7;&#x30A3;&#x30EC;&#x30AF;&#x30C8;&#x30EA;&#x884C;&#x3092;&#x4F5C;&#x6210;&#x3059;&#x308B;
Util.createDirectoryElement = (function () {
	&apos;use strict&apos;;
	/*
	 * &#x4F5C;&#x6210;&#x4F8B;
	 * &lt;li&gt;
	 * 	&lt;a class=&quot;directory&quot;
	 * 	data-type=&quot;directory&quot;
	 * 	data-toggle=&quot;collapse&quot;
	 * 	data-directory-id=&quot;1&quot;
	 * 	data-directory-name=&quot;filename.directoryname&quot;
	 * 	href=&quot;#directory1&quot;
	 * 	&gt;
	 *		&lt;span
	 *		class=&quot;glyphicon glyphicon-folder-close&quot;
	 *		aria-hidden=&quot;true&quot;&gt;
	 *		&lt;/span&gt;
	 *		filename.directoryname
	 *		&lt;/a&gt;
	 *
	 *		&lt;div class=&quot;collapse&quot; id=&quot;directory1&quot;&gt;
	 *			&lt;div class=&quot;well&quot;&gt;
	 *				&lt;ul&gt;
	 *					&lt;li&gt;filename&lt;/li&gt;
	 *					&lt;li&gt;filename&lt;/li&gt;
	 *					&lt;li&gt;filename&lt;/li&gt;
	 *				&lt;/ul&gt;
	 *			&lt;/div&gt;
	 *		&lt;/div&gt;
	 *	&lt;/li&gt;
	 */
	const eDirectoryTemplete = document.createElement(&apos;li&apos;);
	eDirectoryTemplete.classList.add(&apos;dirLi&apos;);
	const eDirLinkTemplete = document.createElement(&apos;a&apos;);
	eDirLinkTemplete.classList.add(&apos;directory&apos;);
	eDirLinkTemplete.dataset.type = &apos;directory&apos;;
	eDirLinkTemplete.dataset.toggle = &apos;collapse&apos;;
	eDirLinkTemplete.innerHTML = &apos;&lt;span class=&quot;glyphicon glyphicon-folder-close&quot; aria-hidden=&quot;true&quot;&gt;&lt;/span&gt;&apos;; // &#x30D5;&#x30A9;&#x30EB;&#x30C0;&#x30A2;&#x30A4;&#x30B3;&#x30F3;

	const eCollapseTemplate = document.createElement(&apos;div&apos;);
	const eInnerUlTemplate = document.createElement(&apos;ul&apos;);
	const eWellTemplate = document.createElement(&apos;div&apos;);
	eCollapseTemplate.classList.add(&apos;collapse&apos;);
	eWellTemplate.classList.add(&apos;well&apos;);

	return function (id,innerData) {
		const eDirectory = eDirectoryTemplete.cloneNode(true);
		const eDirLink = eDirLinkTemplete.cloneNode(true);
		const directoryname = innerData.directoryname;
		eDirLink.dataset.directoryId = id;
		eDirLink.dataset.directoryName = directoryname;
		eDirLink.href = &apos;#directory&apos; + id;
		eDirLink.insertAdjacentHTML(&apos;beforeend&apos;,directoryname);

		eDirectory.appendChild(eDirLink);

		const eCollapse = eCollapseTemplate.cloneNode(true);
		const eInnerUl = eInnerUlTemplate.cloneNode(true);
		const eWell = eWellTemplate.cloneNode(true);
		eCollapse.id = &apos;directory&apos; + id;

		// eInnerUl&#x5185;&#x306B;&#x30D5;&#x30A1;&#x30A4;&#x30EB;&#x30EA;&#x30B9;&#x30C8;&#x3092;&#x52A0;&#x3048;&#x308B;

		eCollapse.appendChild(eWell);
		eWell.appendChild(eInnerUl);

		eDirectory.appendChild(eCollapse); // &#x30B3;&#x30E9;&#x30D7;&#x30B9;&#x3082;&#x52A0;&#x3048;&#x308B;
		return eDirectory;
	}
})();

</code></pre>

</div>

<footer class="footer">
  Generated by <a href="https://esdoc.org">ESDoc<span data-ice="esdocVersion">(0.4.8)</span></a>
</footer>

<script src="script/search_index.js"></script>
<script src="script/search.js"></script>
<script src="script/pretty-print.js"></script>
<script src="script/inherited-summary.js"></script>
<script src="script/test-summary.js"></script>
<script src="script/inner-link.js"></script>
<script src="script/patch-for-local.js"></script>
</body>
</html>
